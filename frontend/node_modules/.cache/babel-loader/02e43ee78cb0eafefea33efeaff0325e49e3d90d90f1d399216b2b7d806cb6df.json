{"ast":null,"code":"import React,{useState,useEffect,useContext}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{AuthContext}from\"../context/AuthContext\";import{Card,Row,Col,Badge,Button,Spinner,Alert,Tab,Nav}from\"react-bootstrap\";import axios from\"axios\";import PostForm from\"./PostForm\";import PostCard from\"./PostCard\";import GroupChat from\"./GroupChat\";import ConfirmationMessage from\"./ConfirmationMessage\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function GroupDetail(){var _group$members,_group$members2,_group$members3,_group$members4;const{groupId}=useParams();const navigate=useNavigate();const{user,isLoading:authLoading}=useContext(AuthContext);const[group,setGroup]=useState(null);const[posts,setPosts]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");const[activeTab,setActiveTab]=useState(\"discussion\");const[isLiking,setIsLiking]=useState(false);const[isDeleting,setIsDeleting]=useState(false);const[isCommenting,setIsCommenting]=useState(false);const[showMembers,setShowMembers]=useState(false);const[timeoutId,setTimeoutId]=useState(null);useEffect(()=>{const fetchGroupDetails=async()=>{try{setIsLoading(true);const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/study-groups/\").concat(groupId));setGroup(response.data);// Fetch group posts\nconst postsResponse=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/posts/group/\").concat(groupId));setPosts(postsResponse.data);}catch(err){console.error(\"Error fetching group details:\",err);setError(\"Failed to load group details. Please try again later.\");}finally{setIsLoading(false);}};fetchGroupDetails();},[groupId]);const setTemporaryMessage=message=>{setError(message);if(timeoutId)clearTimeout(timeoutId);setTimeoutId(setTimeout(()=>setError(\"\"),3000));};const setTemporarySuccess=message=>{setSuccess(message);if(timeoutId)clearTimeout(timeoutId);setTimeoutId(setTimeout(()=>setSuccess(\"\"),3000));};const handleCreatePost=async content=>{try{const response=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/posts\"),{content,studyGroup:groupId},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setPosts([response.data,...posts]);setTemporarySuccess(\"Post created successfully!\");return true;}catch(err){console.error(\"Error creating post:\",err);setTemporaryMessage(\"Failed to create post. Please try again.\");return false;}};const handleLikePost=async postId=>{if(isLiking)return;try{setIsLiking(true);const response=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/posts/\").concat(postId,\"/like\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setPosts(posts.map(post=>post._id===postId?response.data:post));}catch(err){console.error(\"Error liking post:\",err);setTemporaryMessage(\"Failed to like post. Please try again.\");}finally{setIsLiking(false);}};const handleDeletePost=async postId=>{if(isDeleting)return;try{setIsDeleting(true);await axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/posts/\").concat(postId),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setPosts(posts.filter(post=>post._id!==postId));setTemporarySuccess(\"Post deleted successfully!\");}catch(err){console.error(\"Error deleting post:\",err);setTemporaryMessage(\"Failed to delete post. Please try again.\");}finally{setIsDeleting(false);}};const handleAddComment=async(postId,content)=>{if(isCommenting)return;try{setIsCommenting(true);const response=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/posts/\").concat(postId,\"/comments\"),{content},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setPosts(posts.map(post=>post._id===postId?response.data:post));setTemporarySuccess(\"Comment added successfully!\");}catch(err){console.error(\"Error adding comment:\",err);setTemporaryMessage(\"Failed to add comment. Please try again.\");}finally{setIsCommenting(false);}};const handleDeleteComment=async(postId,commentId)=>{try{const response=await axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/posts/\").concat(postId,\"/comments/\").concat(commentId),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setPosts(posts.map(post=>post._id===postId?response.data:post));setTemporarySuccess(\"Comment deleted successfully!\");}catch(err){console.error(\"Error deleting comment:\",err);setTemporaryMessage(\"Failed to delete comment. Please try again.\");}};const handleJoinGroup=async()=>{try{const response=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/study-groups/\").concat(groupId,\"/join\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setGroup(response.data);setTemporarySuccess(\"Successfully joined the group!\");}catch(err){console.error(\"Error joining group:\",err);setTemporaryMessage(\"Failed to join group. Please try again.\");}};const handleLeaveGroup=async()=>{try{const response=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/study-groups/\").concat(groupId,\"/leave\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setGroup(response.data);setTemporarySuccess(\"Successfully left the group!\");}catch(err){console.error(\"Error leaving group:\",err);setTemporaryMessage(\"Failed to leave group. Please try again.\");}};if(authLoading||isLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-secondary\",children:\"Loading group details...\"})]});}if(!group){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5\",children:/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",children:[/*#__PURE__*/_jsx(Alert.Heading,{children:\"Group Not Found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"The study group you're looking for doesn't exist.\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>navigate(\"/study-groups\"),children:\"Back to Study Groups\"})]})});}const isMember=user&&((_group$members=group.members)===null||_group$members===void 0?void 0:_group$members.some(member=>member._id===user.id));const isCreator=user&&group.creator._id===user.id;return/*#__PURE__*/_jsxs(\"div\",{className:\"animate-fade-in-up\",children:[error&&/*#__PURE__*/_jsx(ConfirmationMessage,{message:error,type:\"error\",onClose:()=>setError(\"\")}),success&&/*#__PURE__*/_jsx(ConfirmationMessage,{message:success,type:\"success\",onClose:()=>setSuccess(\"\")}),/*#__PURE__*/_jsx(Card,{className:\"mb-4 shadow-sm\",children:/*#__PURE__*/_jsxs(Card.Body,{className:\"p-4\",children:[/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"me-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(group.groupImage,\" fs-2 text-primary bg-light rounded-circle p-3\")})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fs-3 fw-bold mb-1\",children:group.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsx(Badge,{bg:\"primary\",children:group.category}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users me-1\"}),((_group$members2=group.members)===null||_group$members2===void 0?void 0:_group$members2.length)||0,\" members\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"Created by \",group.creator.username]})]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary mb-0\",children:group.description})]}),/*#__PURE__*/_jsxs(Col,{md:4,className:\"text-end\",children:[user&&!isMember&&/*#__PURE__*/_jsxs(Button,{variant:\"primary\",size:\"lg\",onClick:handleJoinGroup,className:\"btn-hover-shadow\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus me-2\"}),\"Join Group\"]}),user&&isMember&&!isCreator&&/*#__PURE__*/_jsxs(Button,{variant:\"outline-danger\",size:\"lg\",onClick:handleLeaveGroup,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-out-alt me-2\"}),\"Leave Group\"]})]})]}),/*#__PURE__*/_jsx(Row,{className:\"mt-4\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"fw-semibold text-primary mb-0\",children:[\"Members (\",((_group$members3=group.members)===null||_group$members3===void 0?void 0:_group$members3.length)||0,\")\"]}),/*#__PURE__*/_jsxs(Button,{variant:\"link\",size:\"sm\",onClick:()=>setShowMembers(!showMembers),className:\"text-decoration-none\",children:[showMembers?\"Hide\":\"Show\",\" Members\",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chevron-\".concat(showMembers?\"up\":\"down\",\" ms-1\")})]})]}),showMembers&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(Row,{xs:2,md:3,lg:4,className:\"g-2\",children:(_group$members4=group.members)===null||_group$members4===void 0?void 0:_group$members4.map(member=>/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center p-2 bg-light rounded\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-circle me-2 text-secondary\"}),/*#__PURE__*/_jsx(\"span\",{className:\"small\",children:member.username}),member._id===group.creator._id&&/*#__PURE__*/_jsx(Badge,{bg:\"success\",className:\"ms-auto small\",children:\"Creator\"})]})},member._id))})})]})})]})}),/*#__PURE__*/_jsxs(Tab.Container,{activeKey:activeTab,onSelect:setActiveTab,children:[/*#__PURE__*/_jsxs(Nav,{variant:\"tabs\",className:\"mb-4\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"discussion\",className:\"px-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-comments me-2\"}),\"Discussion (\",posts.length,\")\"]})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"chat\",className:\"px-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-comment-dots me-2\"}),\"Chat & Events\"]})})]}),/*#__PURE__*/_jsxs(Tab.Content,{children:[/*#__PURE__*/_jsxs(Tab.Pane,{eventKey:\"discussion\",children:[user&&isMember&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(PostForm,{handleCreatePost:handleCreatePost})}),posts.length===0?/*#__PURE__*/_jsxs(Alert,{variant:\"info\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-2\"}),\"No posts yet.\",\" \",isMember&&\"Be the first to start a discussion!\"]}):posts.map((post,index)=>/*#__PURE__*/_jsx(PostCard,{post:post,currentUser:user,handleLikePost:handleLikePost,handleDeletePost:handleDeletePost,handleAddComment:handleAddComment,handleDeleteComment:handleDeleteComment,isLiking:isLiking,isDeleting:isDeleting,isCommenting:isCommenting,animationDelay:\"\".concat(index*0.1,\"s\")},post._id))]}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"chat\",children:user&&isMember?/*#__PURE__*/_jsx(GroupChat,{group:group,user:user,setTemporaryMessage:setTemporaryMessage,setTemporarySuccess:setTemporarySuccess}):/*#__PURE__*/_jsxs(Alert,{variant:\"warning\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock me-2\"}),\"You must be a member to access the group chat and events.\"]})})]})]})]});}export default GroupDetail;","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","useNavigate","AuthContext","Card","Row","Col","Badge","Button","Spinner","Alert","Tab","Nav","axios","PostForm","PostCard","GroupChat","ConfirmationMessage","jsx","_jsx","jsxs","_jsxs","GroupDetail","_group$members","_group$members2","_group$members3","_group$members4","groupId","navigate","user","isLoading","authLoading","group","setGroup","posts","setPosts","setIsLoading","error","setError","success","setSuccess","activeTab","setActiveTab","isLiking","setIsLiking","isDeleting","setIsDeleting","isCommenting","setIsCommenting","showMembers","setShowMembers","timeoutId","setTimeoutId","fetchGroupDetails","response","get","concat","process","env","REACT_APP_API_URL","data","postsResponse","err","console","setTemporaryMessage","message","clearTimeout","setTimeout","setTemporarySuccess","handleCreatePost","content","post","studyGroup","headers","Authorization","localStorage","getItem","handleLikePost","postId","map","_id","handleDeletePost","delete","filter","handleAddComment","handleDeleteComment","commentId","handleJoinGroup","handleLeaveGroup","className","children","animation","variant","Heading","onClick","isMember","members","some","member","id","isCreator","creator","type","onClose","Body","md","groupImage","name","bg","category","length","username","description","size","xs","lg","Container","activeKey","onSelect","Item","Link","eventKey","Content","Pane","index","currentUser","animationDelay"],"sources":["/mnt/d/Projects/NexusEd/frontend/src/components/GroupDetail.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Badge,\r\n  Button,\r\n  Spinner,\r\n  Alert,\r\n  Tab,\r\n  Nav,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport PostForm from \"./PostForm\";\r\nimport PostCard from \"./PostCard\";\r\nimport GroupChat from \"./GroupChat\";\r\nimport ConfirmationMessage from \"./ConfirmationMessage\";\r\n\r\nfunction GroupDetail() {\r\n  const { groupId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user, isLoading: authLoading } = useContext(AuthContext);\r\n  const [group, setGroup] = useState(null);\r\n  const [posts, setPosts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"discussion\");\r\n  const [isLiking, setIsLiking] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [isCommenting, setIsCommenting] = useState(false);\r\n  const [showMembers, setShowMembers] = useState(false);\r\n  const [timeoutId, setTimeoutId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchGroupDetails = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await axios.get(\r\n          `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}`\r\n        );\r\n        setGroup(response.data);\r\n\r\n        // Fetch group posts\r\n        const postsResponse = await axios.get(\r\n          `${process.env.REACT_APP_API_URL}/api/posts/group/${groupId}`\r\n        );\r\n        setPosts(postsResponse.data);\r\n      } catch (err) {\r\n        console.error(\"Error fetching group details:\", err);\r\n        setError(\"Failed to load group details. Please try again later.\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchGroupDetails();\r\n  }, [groupId]);\r\n\r\n  const setTemporaryMessage = (message) => {\r\n    setError(message);\r\n    if (timeoutId) clearTimeout(timeoutId);\r\n    setTimeoutId(setTimeout(() => setError(\"\"), 3000));\r\n  };\r\n\r\n  const setTemporarySuccess = (message) => {\r\n    setSuccess(message);\r\n    if (timeoutId) clearTimeout(timeoutId);\r\n    setTimeoutId(setTimeout(() => setSuccess(\"\"), 3000));\r\n  };\r\n\r\n  const handleCreatePost = async (content) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts`,\r\n        { content, studyGroup: groupId },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setPosts([response.data, ...posts]);\r\n      setTemporarySuccess(\"Post created successfully!\");\r\n      return true;\r\n    } catch (err) {\r\n      console.error(\"Error creating post:\", err);\r\n      setTemporaryMessage(\"Failed to create post. Please try again.\");\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleLikePost = async (postId) => {\r\n    if (isLiking) return;\r\n\r\n    try {\r\n      setIsLiking(true);\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/like`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n    } catch (err) {\r\n      console.error(\"Error liking post:\", err);\r\n      setTemporaryMessage(\"Failed to like post. Please try again.\");\r\n    } finally {\r\n      setIsLiking(false);\r\n    }\r\n  };\r\n\r\n  const handleDeletePost = async (postId) => {\r\n    if (isDeleting) return;\r\n\r\n    try {\r\n      setIsDeleting(true);\r\n      await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(posts.filter((post) => post._id !== postId));\r\n      setTemporarySuccess(\"Post deleted successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error deleting post:\", err);\r\n      setTemporaryMessage(\"Failed to delete post. Please try again.\");\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleAddComment = async (postId, content) => {\r\n    if (isCommenting) return;\r\n\r\n    try {\r\n      setIsCommenting(true);\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments`,\r\n        { content },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n      setTemporarySuccess(\"Comment added successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error adding comment:\", err);\r\n      setTemporaryMessage(\"Failed to add comment. Please try again.\");\r\n    } finally {\r\n      setIsCommenting(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteComment = async (postId, commentId) => {\r\n    try {\r\n      const response = await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments/${commentId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n      setTemporarySuccess(\"Comment deleted successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error deleting comment:\", err);\r\n      setTemporaryMessage(\"Failed to delete comment. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleJoinGroup = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/join`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroup(response.data);\r\n      setTemporarySuccess(\"Successfully joined the group!\");\r\n    } catch (err) {\r\n      console.error(\"Error joining group:\", err);\r\n      setTemporaryMessage(\"Failed to join group. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleLeaveGroup = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/leave`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroup(response.data);\r\n      setTemporarySuccess(\"Successfully left the group!\");\r\n    } catch (err) {\r\n      console.error(\"Error leaving group:\", err);\r\n      setTemporaryMessage(\"Failed to leave group. Please try again.\");\r\n    }\r\n  };\r\n\r\n  if (authLoading || isLoading) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Spinner animation=\"border\" variant=\"primary\" />\r\n        <p className=\"mt-3 text-secondary\">Loading group details...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!group) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Alert variant=\"danger\">\r\n          <Alert.Heading>Group Not Found</Alert.Heading>\r\n          <p>The study group you're looking for doesn't exist.</p>\r\n          <Button variant=\"primary\" onClick={() => navigate(\"/study-groups\")}>\r\n            Back to Study Groups\r\n          </Button>\r\n        </Alert>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isMember =\r\n    user && group.members?.some((member) => member._id === user.id);\r\n  const isCreator = user && group.creator._id === user.id;\r\n\r\n  return (\r\n    <div className=\"animate-fade-in-up\">\r\n      {error && (\r\n        <ConfirmationMessage\r\n          message={error}\r\n          type=\"error\"\r\n          onClose={() => setError(\"\")}\r\n        />\r\n      )}\r\n      {success && (\r\n        <ConfirmationMessage\r\n          message={success}\r\n          type=\"success\"\r\n          onClose={() => setSuccess(\"\")}\r\n        />\r\n      )}\r\n\r\n      {/* Group Header */}\r\n      <Card className=\"mb-4 shadow-sm\">\r\n        <Card.Body className=\"p-4\">\r\n          <Row className=\"align-items-center\">\r\n            <Col md={8}>\r\n              <div className=\"d-flex align-items-center mb-3\">\r\n                <div className=\"me-3\">\r\n                  <i\r\n                    className={`fas ${group.groupImage} fs-2 text-primary bg-light rounded-circle p-3`}\r\n                  ></i>\r\n                </div>\r\n                <div>\r\n                  <h1 className=\"fs-3 fw-bold mb-1\">{group.name}</h1>\r\n                  <div className=\"d-flex align-items-center gap-3\">\r\n                    <Badge bg=\"primary\">{group.category}</Badge>\r\n                    <span className=\"text-muted\">\r\n                      <i className=\"fas fa-users me-1\"></i>\r\n                      {group.members?.length || 0} members\r\n                    </span>\r\n                    <span className=\"text-muted\">\r\n                      Created by {group.creator.username}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-secondary mb-0\">{group.description}</p>\r\n            </Col>\r\n            <Col md={4} className=\"text-end\">\r\n              {user && !isMember && (\r\n                <Button\r\n                  variant=\"primary\"\r\n                  size=\"lg\"\r\n                  onClick={handleJoinGroup}\r\n                  className=\"btn-hover-shadow\"\r\n                >\r\n                  <i className=\"fas fa-plus me-2\"></i>\r\n                  Join Group\r\n                </Button>\r\n              )}\r\n              {user && isMember && !isCreator && (\r\n                <Button\r\n                  variant=\"outline-danger\"\r\n                  size=\"lg\"\r\n                  onClick={handleLeaveGroup}\r\n                >\r\n                  <i className=\"fas fa-sign-out-alt me-2\"></i>\r\n                  Leave Group\r\n                </Button>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n\r\n          {/* Members Section */}\r\n          <Row className=\"mt-4\">\r\n            <Col>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <h5 className=\"fw-semibold text-primary mb-0\">\r\n                  Members ({group.members?.length || 0})\r\n                </h5>\r\n                <Button\r\n                  variant=\"link\"\r\n                  size=\"sm\"\r\n                  onClick={() => setShowMembers(!showMembers)}\r\n                  className=\"text-decoration-none\"\r\n                >\r\n                  {showMembers ? \"Hide\" : \"Show\"} Members\r\n                  <i\r\n                    className={`fas fa-chevron-${\r\n                      showMembers ? \"up\" : \"down\"\r\n                    } ms-1`}\r\n                  ></i>\r\n                </Button>\r\n              </div>\r\n              {showMembers && (\r\n                <div className=\"mt-3\">\r\n                  <Row xs={2} md={3} lg={4} className=\"g-2\">\r\n                    {group.members?.map((member) => (\r\n                      <Col key={member._id}>\r\n                        <div className=\"d-flex align-items-center p-2 bg-light rounded\">\r\n                          <i className=\"fas fa-user-circle me-2 text-secondary\"></i>\r\n                          <span className=\"small\">{member.username}</span>\r\n                          {member._id === group.creator._id && (\r\n                            <Badge bg=\"success\" className=\"ms-auto small\">\r\n                              Creator\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </Col>\r\n                    ))}\r\n                  </Row>\r\n                </div>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Tabs */}\r\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\r\n        <Nav variant=\"tabs\" className=\"mb-4\">\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"discussion\" className=\"px-4\">\r\n              <i className=\"fas fa-comments me-2\"></i>\r\n              Discussion ({posts.length})\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"chat\" className=\"px-4\">\r\n              <i className=\"fas fa-comment-dots me-2\"></i>\r\n              Chat & Events\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n        </Nav>\r\n\r\n        <Tab.Content>\r\n          <Tab.Pane eventKey=\"discussion\">\r\n            {user && isMember && (\r\n              <div className=\"mb-4\">\r\n                <PostForm handleCreatePost={handleCreatePost} />\r\n              </div>\r\n            )}\r\n\r\n            {posts.length === 0 ? (\r\n              <Alert variant=\"info\">\r\n                <i className=\"fas fa-info-circle me-2\"></i>\r\n                No posts yet.{\" \"}\r\n                {isMember && \"Be the first to start a discussion!\"}\r\n              </Alert>\r\n            ) : (\r\n              posts.map((post, index) => (\r\n                <PostCard\r\n                  key={post._id}\r\n                  post={post}\r\n                  currentUser={user}\r\n                  handleLikePost={handleLikePost}\r\n                  handleDeletePost={handleDeletePost}\r\n                  handleAddComment={handleAddComment}\r\n                  handleDeleteComment={handleDeleteComment}\r\n                  isLiking={isLiking}\r\n                  isDeleting={isDeleting}\r\n                  isCommenting={isCommenting}\r\n                  animationDelay={`${index * 0.1}s`}\r\n                />\r\n              ))\r\n            )}\r\n          </Tab.Pane>\r\n\r\n          <Tab.Pane eventKey=\"chat\">\r\n            {user && isMember ? (\r\n              <GroupChat\r\n                group={group}\r\n                user={user}\r\n                setTemporaryMessage={setTemporaryMessage}\r\n                setTemporarySuccess={setTemporarySuccess}\r\n              />\r\n            ) : (\r\n              <Alert variant=\"warning\">\r\n                <i className=\"fas fa-lock me-2\"></i>\r\n                You must be a member to access the group chat and events.\r\n              </Alert>\r\n            )}\r\n          </Tab.Pane>\r\n        </Tab.Content>\r\n      </Tab.Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GroupDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}