{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\NexusEd\\\\frontend\\\\src\\\\components\\\\GroupDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { Card, Row, Col, Badge, Button, Spinner, Alert, Tab, Nav } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport PostForm from \"./PostForm\";\nimport PostCard from \"./PostCard\";\nimport GroupChat from \"./GroupChat\";\nimport ConfirmationMessage from \"./ConfirmationMessage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GroupDetail() {\n  _s();\n  var _group$members, _group$members2, _group$members3, _group$members4;\n  const {\n    groupId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    isLoading: authLoading\n  } = useContext(AuthContext);\n  const [group, setGroup] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [activeTab, setActiveTab] = useState(\"discussion\");\n  const [isLiking, setIsLiking] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [isCommenting, setIsCommenting] = useState(false);\n  const [showMembers, setShowMembers] = useState(false);\n  const [timeoutId, setTimeoutId] = useState(null);\n  useEffect(() => {\n    const fetchGroupDetails = async () => {\n      try {\n        setIsLoading(true);\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}`);\n        setGroup(response.data);\n\n        // Fetch group posts\n        const postsResponse = await axios.get(`${process.env.REACT_APP_API_URL}/api/posts/group/${groupId}`);\n        setPosts(postsResponse.data);\n      } catch (err) {\n        var _err$response, _err$response2;\n        console.error(\"Error fetching group details:\", err);\n        // Only show error if it's not a 404 (group not found) or 403 (unauthorized)\n        if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) !== 404 && ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) !== 403) {\n          setError(\"Failed to load group details. Please try again later.\");\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchGroupDetails();\n  }, [groupId]);\n  const setTemporaryMessage = message => {\n    setError(message);\n    if (timeoutId) clearTimeout(timeoutId);\n    const newTimeoutId = setTimeout(() => {\n      setError(\"\");\n      setTimeoutId(null);\n    }, 3000);\n    setTimeoutId(newTimeoutId);\n  };\n  const setTemporarySuccess = message => {\n    setSuccess(message);\n    if (timeoutId) clearTimeout(timeoutId);\n    const newTimeoutId = setTimeout(() => {\n      setSuccess(\"\");\n      setTimeoutId(null);\n    }, 3000);\n    setTimeoutId(newTimeoutId);\n  };\n\n  // Cleanup timeout on unmount\n  useEffect(() => {\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, [timeoutId]);\n  const handleCreatePost = async (content, studyGroupId = null, files = []) => {\n    try {\n      const formData = new FormData();\n      formData.append(\"content\", content);\n      formData.append(\"studyGroup\", groupId);\n\n      // Add files to FormData\n      for (let i = 0; i < files.length; i++) {\n        formData.append(\"files\", files[i]);\n      }\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/posts`, formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setPosts([response.data, ...posts]);\n      setTemporarySuccess(\"Post created successfully!\");\n      return true;\n    } catch (err) {\n      var _err$response3;\n      console.error(\"Error creating post:\", err);\n      if (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.status) === 413) {\n        setTemporaryMessage(\"File size too large. Maximum size per file is 10MB.\");\n      } else {\n        setTemporaryMessage(\"Failed to create post. Please try again.\");\n      }\n      return false;\n    }\n  };\n  const handleLikePost = async postId => {\n    if (isLiking) return;\n    try {\n      setIsLiking(true);\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/posts/${postId}/like`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.map(post => post._id === postId ? response.data : post));\n    } catch (err) {\n      console.error(\"Error liking post:\", err);\n      setTemporaryMessage(\"Failed to like post. Please try again.\");\n    } finally {\n      setIsLiking(false);\n    }\n  };\n  const handleDeletePost = async postId => {\n    if (isDeleting) return;\n    try {\n      setIsDeleting(true);\n      await axios.delete(`${process.env.REACT_APP_API_URL}/api/posts/${postId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.filter(post => post._id !== postId));\n      setTemporarySuccess(\"Post deleted successfully!\");\n    } catch (err) {\n      console.error(\"Error deleting post:\", err);\n      setTemporaryMessage(\"Failed to delete post. Please try again.\");\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n  const handleAddComment = async (postId, content) => {\n    if (isCommenting) return;\n    try {\n      setIsCommenting(true);\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments`, {\n        content\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.map(post => post._id === postId ? response.data : post));\n      setTemporarySuccess(\"Comment added successfully!\");\n    } catch (err) {\n      console.error(\"Error adding comment:\", err);\n      setTemporaryMessage(\"Failed to add comment. Please try again.\");\n    } finally {\n      setIsCommenting(false);\n    }\n  };\n  const handleDeleteComment = async (postId, commentId) => {\n    try {\n      const response = await axios.delete(`${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments/${commentId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.map(post => post._id === postId ? response.data : post));\n      setTemporarySuccess(\"Comment deleted successfully!\");\n    } catch (err) {\n      console.error(\"Error deleting comment:\", err);\n      setTemporaryMessage(\"Failed to delete comment. Please try again.\");\n    }\n  };\n  const handleJoinGroup = async () => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/join`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setGroup(response.data);\n      setTemporarySuccess(\"Successfully joined the group!\");\n    } catch (err) {\n      console.error(\"Error joining group:\", err);\n      setTemporaryMessage(\"Failed to join group. Please try again.\");\n    }\n  };\n  const handleLeaveGroup = async () => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/leave`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setGroup(response.data);\n      setTemporarySuccess(\"Successfully left the group!\");\n    } catch (err) {\n      console.error(\"Error leaving group:\", err);\n      setTemporaryMessage(\"Failed to leave group. Please try again.\");\n    }\n  };\n  if (authLoading || isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3 text-secondary\",\n        children: \"Loading group details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this);\n  }\n  if (!group) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n          children: \"Group Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"The study group you're looking for doesn't exist or you don't have permission to view it.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => navigate(\"/study-groups\"),\n          children: \"Back to Study Groups\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"warning\",\n        children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n          children: \"Authentication Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You must be logged in to view group details.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => navigate(\"/login\"),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this);\n  }\n  const isMember = user && ((_group$members = group.members) === null || _group$members === void 0 ? void 0 : _group$members.some(member => member._id === user.id));\n  const isCreator = user && group.creator._id === user.id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"animate-fade-in-up\",\n    children: [error && /*#__PURE__*/_jsxDEV(ConfirmationMessage, {\n      message: error,\n      type: \"error\",\n      onClose: () => setError(\"\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(ConfirmationMessage, {\n      message: success,\n      type: \"success\",\n      onClose: () => setSuccess(\"\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-4 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 8,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"me-3\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas ${group.groupImage} fs-2 text-primary bg-light rounded-circle p-3`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"fs-3 fw-bold mb-1\",\n                  children: group.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"primary\",\n                    children: group.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-users me-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 23\n                    }, this), ((_group$members2 = group.members) === null || _group$members2 === void 0 ? void 0 : _group$members2.length) || 0, \" members\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted\",\n                    children: [\"Created by \", group.creator.username]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-secondary mb-0\",\n              children: group.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            className: \"text-end\",\n            children: [user && !isMember && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              size: \"lg\",\n              onClick: handleJoinGroup,\n              className: \"btn-hover-shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plus me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this), \"Join Group\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), user && isMember && !isCreator && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-danger\",\n              size: \"lg\",\n              onClick: handleLeaveGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-sign-out-alt me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this), \"Leave Group\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"fw-semibold text-primary mb-0\",\n                children: [\"Members (\", ((_group$members3 = group.members) === null || _group$members3 === void 0 ? void 0 : _group$members3.length) || 0, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"link\",\n                size: \"sm\",\n                onClick: () => setShowMembers(!showMembers),\n                className: \"text-decoration-none\",\n                children: [showMembers ? \"Hide\" : \"Show\", \" Members\", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas fa-chevron-${showMembers ? \"up\" : \"down\"} ms-1`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this), showMembers && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                xs: 2,\n                md: 3,\n                lg: 4,\n                className: \"g-2\",\n                children: (_group$members4 = group.members) === null || _group$members4 === void 0 ? void 0 : _group$members4.map(member => /*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center p-2 bg-light rounded\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-user-circle me-2 text-secondary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 402,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"small\",\n                      children: member.username\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 27\n                    }, this), member._id === group.creator._id && /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"success\",\n                      className: \"ms-auto small\",\n                      children: \"Creator\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 25\n                  }, this)\n                }, member._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tab.Container, {\n      activeKey: activeTab,\n      onSelect: setActiveTab,\n      children: [/*#__PURE__*/_jsxDEV(Nav, {\n        variant: \"tabs\",\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            eventKey: \"discussion\",\n            className: \"px-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-comments me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this), \"Discussion (\", posts.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            eventKey: \"chat\",\n            className: \"px-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-comment-dots me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this), \"Chat & Events\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n        children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n          eventKey: \"discussion\",\n          children: [user && isMember && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(PostForm, {\n              handleCreatePost: handleCreatePost\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), posts.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"info\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-info-circle me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), \"No posts yet.\", \" \", isMember && \"Be the first to start a discussion!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this) : posts.map((post, index) => /*#__PURE__*/_jsxDEV(PostCard, {\n            post: post,\n            currentUser: user,\n            handleLikePost: handleLikePost,\n            handleDeletePost: handleDeletePost,\n            handleAddComment: handleAddComment,\n            handleDeleteComment: handleDeleteComment,\n            isLiking: isLiking,\n            isDeleting: isDeleting,\n            isCommenting: isCommenting,\n            animationDelay: `${index * 0.1}s`\n          }, post._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n          eventKey: \"chat\",\n          children: user && isMember ? /*#__PURE__*/_jsxDEV(GroupChat, {\n            group: group,\n            user: user,\n            setTemporaryMessage: setTemporaryMessage,\n            setTemporarySuccess: setTemporarySuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"warning\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-lock me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this), \"You must be a member to access the group chat and events.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n}\n_s(GroupDetail, \"i7tM82LYBg2F9yNteynlo1vkugY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = GroupDetail;\nexport default GroupDetail;\nvar _c;\n$RefreshReg$(_c, \"GroupDetail\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","useNavigate","AuthContext","Card","Row","Col","Badge","Button","Spinner","Alert","Tab","Nav","axios","PostForm","PostCard","GroupChat","ConfirmationMessage","jsxDEV","_jsxDEV","GroupDetail","_s","_group$members","_group$members2","_group$members3","_group$members4","groupId","navigate","user","isLoading","authLoading","group","setGroup","posts","setPosts","setIsLoading","error","setError","success","setSuccess","activeTab","setActiveTab","isLiking","setIsLiking","isDeleting","setIsDeleting","isCommenting","setIsCommenting","showMembers","setShowMembers","timeoutId","setTimeoutId","fetchGroupDetails","response","get","process","env","REACT_APP_API_URL","data","postsResponse","err","_err$response","_err$response2","console","status","setTemporaryMessage","message","clearTimeout","newTimeoutId","setTimeout","setTemporarySuccess","handleCreatePost","content","studyGroupId","files","formData","FormData","append","i","length","post","headers","Authorization","localStorage","getItem","_err$response3","handleLikePost","postId","map","_id","handleDeletePost","delete","filter","handleAddComment","handleDeleteComment","commentId","handleJoinGroup","handleLeaveGroup","className","children","animation","variant","fileName","_jsxFileName","lineNumber","columnNumber","Heading","onClick","isMember","members","some","member","id","isCreator","creator","type","onClose","Body","md","groupImage","name","bg","category","username","description","size","xs","lg","Container","activeKey","onSelect","Item","Link","eventKey","Content","Pane","index","currentUser","animationDelay","_c","$RefreshReg$"],"sources":["D:/Projects/NexusEd/frontend/src/components/GroupDetail.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Badge,\r\n  Button,\r\n  Spinner,\r\n  Alert,\r\n  Tab,\r\n  Nav,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport PostForm from \"./PostForm\";\r\nimport PostCard from \"./PostCard\";\r\nimport GroupChat from \"./GroupChat\";\r\nimport ConfirmationMessage from \"./ConfirmationMessage\";\r\n\r\nfunction GroupDetail() {\r\n  const { groupId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user, isLoading: authLoading } = useContext(AuthContext);\r\n  const [group, setGroup] = useState(null);\r\n  const [posts, setPosts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"discussion\");\r\n  const [isLiking, setIsLiking] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [isCommenting, setIsCommenting] = useState(false);\r\n  const [showMembers, setShowMembers] = useState(false);\r\n  const [timeoutId, setTimeoutId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchGroupDetails = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await axios.get(\r\n          `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}`\r\n        );\r\n        setGroup(response.data);\r\n\r\n        // Fetch group posts\r\n        const postsResponse = await axios.get(\r\n          `${process.env.REACT_APP_API_URL}/api/posts/group/${groupId}`\r\n        );\r\n        setPosts(postsResponse.data);\r\n      } catch (err) {\r\n        console.error(\"Error fetching group details:\", err);\r\n        // Only show error if it's not a 404 (group not found) or 403 (unauthorized)\r\n        if (err.response?.status !== 404 && err.response?.status !== 403) {\r\n          setError(\"Failed to load group details. Please try again later.\");\r\n        }\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchGroupDetails();\r\n  }, [groupId]);\r\n\r\n  const setTemporaryMessage = (message) => {\r\n    setError(message);\r\n    if (timeoutId) clearTimeout(timeoutId);\r\n    const newTimeoutId = setTimeout(() => {\r\n      setError(\"\");\r\n      setTimeoutId(null);\r\n    }, 3000);\r\n    setTimeoutId(newTimeoutId);\r\n  };\r\n\r\n  const setTemporarySuccess = (message) => {\r\n    setSuccess(message);\r\n    if (timeoutId) clearTimeout(timeoutId);\r\n    const newTimeoutId = setTimeout(() => {\r\n      setSuccess(\"\");\r\n      setTimeoutId(null);\r\n    }, 3000);\r\n    setTimeoutId(newTimeoutId);\r\n  };\r\n\r\n  // Cleanup timeout on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timeoutId) {\r\n        clearTimeout(timeoutId);\r\n      }\r\n    };\r\n  }, [timeoutId]);\r\n\r\n  const handleCreatePost = async (content, studyGroupId = null, files = []) => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"content\", content);\r\n      formData.append(\"studyGroup\", groupId);\r\n      \r\n      // Add files to FormData\r\n      for (let i = 0; i < files.length; i++) {\r\n        formData.append(\"files\", files[i]);\r\n      }\r\n      \r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        }\r\n      );\r\n      setPosts([response.data, ...posts]);\r\n      setTemporarySuccess(\"Post created successfully!\");\r\n      return true;\r\n    } catch (err) {\r\n      console.error(\"Error creating post:\", err);\r\n      if (err.response?.status === 413) {\r\n        setTemporaryMessage(\"File size too large. Maximum size per file is 10MB.\");\r\n      } else {\r\n        setTemporaryMessage(\"Failed to create post. Please try again.\");\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleLikePost = async (postId) => {\r\n    if (isLiking) return;\r\n\r\n    try {\r\n      setIsLiking(true);\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/like`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n    } catch (err) {\r\n      console.error(\"Error liking post:\", err);\r\n      setTemporaryMessage(\"Failed to like post. Please try again.\");\r\n    } finally {\r\n      setIsLiking(false);\r\n    }\r\n  };\r\n\r\n  const handleDeletePost = async (postId) => {\r\n    if (isDeleting) return;\r\n\r\n    try {\r\n      setIsDeleting(true);\r\n      await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(posts.filter((post) => post._id !== postId));\r\n      setTemporarySuccess(\"Post deleted successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error deleting post:\", err);\r\n      setTemporaryMessage(\"Failed to delete post. Please try again.\");\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleAddComment = async (postId, content) => {\r\n    if (isCommenting) return;\r\n\r\n    try {\r\n      setIsCommenting(true);\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments`,\r\n        { content },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n      setTemporarySuccess(\"Comment added successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error adding comment:\", err);\r\n      setTemporaryMessage(\"Failed to add comment. Please try again.\");\r\n    } finally {\r\n      setIsCommenting(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteComment = async (postId, commentId) => {\r\n    try {\r\n      const response = await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments/${commentId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n      setTemporarySuccess(\"Comment deleted successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error deleting comment:\", err);\r\n      setTemporaryMessage(\"Failed to delete comment. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleJoinGroup = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/join`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroup(response.data);\r\n      setTemporarySuccess(\"Successfully joined the group!\");\r\n    } catch (err) {\r\n      console.error(\"Error joining group:\", err);\r\n      setTemporaryMessage(\"Failed to join group. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleLeaveGroup = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/leave`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroup(response.data);\r\n      setTemporarySuccess(\"Successfully left the group!\");\r\n    } catch (err) {\r\n      console.error(\"Error leaving group:\", err);\r\n      setTemporaryMessage(\"Failed to leave group. Please try again.\");\r\n    }\r\n  };\r\n\r\n  if (authLoading || isLoading) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Spinner animation=\"border\" variant=\"primary\" />\r\n        <p className=\"mt-3 text-secondary\">Loading group details...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!group) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Alert variant=\"danger\">\r\n          <Alert.Heading>Group Not Found</Alert.Heading>\r\n          <p>The study group you're looking for doesn't exist or you don't have permission to view it.</p>\r\n          <Button variant=\"primary\" onClick={() => navigate(\"/study-groups\")}>\r\n            Back to Study Groups\r\n          </Button>\r\n        </Alert>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Alert variant=\"warning\">\r\n          <Alert.Heading>Authentication Required</Alert.Heading>\r\n          <p>You must be logged in to view group details.</p>\r\n          <Button variant=\"primary\" onClick={() => navigate(\"/login\")}>\r\n            Login\r\n          </Button>\r\n        </Alert>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isMember =\r\n    user && group.members?.some((member) => member._id === user.id);\r\n  const isCreator = user && group.creator._id === user.id;\r\n\r\n  return (\r\n    <div className=\"animate-fade-in-up\">\r\n      {error && (\r\n        <ConfirmationMessage\r\n          message={error}\r\n          type=\"error\"\r\n          onClose={() => setError(\"\")}\r\n        />\r\n      )}\r\n      {success && (\r\n        <ConfirmationMessage\r\n          message={success}\r\n          type=\"success\"\r\n          onClose={() => setSuccess(\"\")}\r\n        />\r\n      )}\r\n\r\n      {/* Group Header */}\r\n      <Card className=\"mb-4 shadow-sm\">\r\n        <Card.Body className=\"p-4\">\r\n          <Row className=\"align-items-center\">\r\n            <Col md={8}>\r\n              <div className=\"d-flex align-items-center mb-3\">\r\n                <div className=\"me-3\">\r\n                  <i\r\n                    className={`fas ${group.groupImage} fs-2 text-primary bg-light rounded-circle p-3`}\r\n                  ></i>\r\n                </div>\r\n                <div>\r\n                  <h1 className=\"fs-3 fw-bold mb-1\">{group.name}</h1>\r\n                  <div className=\"d-flex align-items-center gap-3\">\r\n                    <Badge bg=\"primary\">{group.category}</Badge>\r\n                    <span className=\"text-muted\">\r\n                      <i className=\"fas fa-users me-1\"></i>\r\n                      {group.members?.length || 0} members\r\n                    </span>\r\n                    <span className=\"text-muted\">\r\n                      Created by {group.creator.username}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-secondary mb-0\">{group.description}</p>\r\n            </Col>\r\n            <Col md={4} className=\"text-end\">\r\n              {user && !isMember && (\r\n                <Button\r\n                  variant=\"primary\"\r\n                  size=\"lg\"\r\n                  onClick={handleJoinGroup}\r\n                  className=\"btn-hover-shadow\"\r\n                >\r\n                  <i className=\"fas fa-plus me-2\"></i>\r\n                  Join Group\r\n                </Button>\r\n              )}\r\n              {user && isMember && !isCreator && (\r\n                <Button\r\n                  variant=\"outline-danger\"\r\n                  size=\"lg\"\r\n                  onClick={handleLeaveGroup}\r\n                >\r\n                  <i className=\"fas fa-sign-out-alt me-2\"></i>\r\n                  Leave Group\r\n                </Button>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n\r\n          {/* Members Section */}\r\n          <Row className=\"mt-4\">\r\n            <Col>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <h5 className=\"fw-semibold text-primary mb-0\">\r\n                  Members ({group.members?.length || 0})\r\n                </h5>\r\n                <Button\r\n                  variant=\"link\"\r\n                  size=\"sm\"\r\n                  onClick={() => setShowMembers(!showMembers)}\r\n                  className=\"text-decoration-none\"\r\n                >\r\n                  {showMembers ? \"Hide\" : \"Show\"} Members\r\n                  <i\r\n                    className={`fas fa-chevron-${\r\n                      showMembers ? \"up\" : \"down\"\r\n                    } ms-1`}\r\n                  ></i>\r\n                </Button>\r\n              </div>\r\n              {showMembers && (\r\n                <div className=\"mt-3\">\r\n                  <Row xs={2} md={3} lg={4} className=\"g-2\">\r\n                    {group.members?.map((member) => (\r\n                      <Col key={member._id}>\r\n                        <div className=\"d-flex align-items-center p-2 bg-light rounded\">\r\n                          <i className=\"fas fa-user-circle me-2 text-secondary\"></i>\r\n                          <span className=\"small\">{member.username}</span>\r\n                          {member._id === group.creator._id && (\r\n                            <Badge bg=\"success\" className=\"ms-auto small\">\r\n                              Creator\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </Col>\r\n                    ))}\r\n                  </Row>\r\n                </div>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Tabs */}\r\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\r\n        <Nav variant=\"tabs\" className=\"mb-4\">\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"discussion\" className=\"px-4\">\r\n              <i className=\"fas fa-comments me-2\"></i>\r\n              Discussion ({posts.length})\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"chat\" className=\"px-4\">\r\n              <i className=\"fas fa-comment-dots me-2\"></i>\r\n              Chat & Events\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n        </Nav>\r\n\r\n        <Tab.Content>\r\n          <Tab.Pane eventKey=\"discussion\">\r\n            {user && isMember && (\r\n              <div className=\"mb-4\">\r\n                <PostForm handleCreatePost={handleCreatePost} />\r\n              </div>\r\n            )}\r\n\r\n            {posts.length === 0 ? (\r\n              <Alert variant=\"info\">\r\n                <i className=\"fas fa-info-circle me-2\"></i>\r\n                No posts yet.{\" \"}\r\n                {isMember && \"Be the first to start a discussion!\"}\r\n              </Alert>\r\n            ) : (\r\n              posts.map((post, index) => (\r\n                <PostCard\r\n                  key={post._id}\r\n                  post={post}\r\n                  currentUser={user}\r\n                  handleLikePost={handleLikePost}\r\n                  handleDeletePost={handleDeletePost}\r\n                  handleAddComment={handleAddComment}\r\n                  handleDeleteComment={handleDeleteComment}\r\n                  isLiking={isLiking}\r\n                  isDeleting={isDeleting}\r\n                  isCommenting={isCommenting}\r\n                  animationDelay={`${index * 0.1}s`}\r\n                />\r\n              ))\r\n            )}\r\n          </Tab.Pane>\r\n\r\n          <Tab.Pane eventKey=\"chat\">\r\n            {user && isMember ? (\r\n              <GroupChat\r\n                group={group}\r\n                user={user}\r\n                setTemporaryMessage={setTemporaryMessage}\r\n                setTemporarySuccess={setTemporarySuccess}\r\n              />\r\n            ) : (\r\n              <Alert variant=\"warning\">\r\n                <i className=\"fas fa-lock me-2\"></i>\r\n                You must be a member to access the group chat and events.\r\n              </Alert>\r\n            )}\r\n          </Tab.Pane>\r\n        </Tab.Content>\r\n      </Tab.Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GroupDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}