{"ast":null,"code":"var _jsxFileName = \"D:\\\\NexusEd\\\\frontend\\\\src\\\\components\\\\ProfileHeader.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { formatDateTime } from \"../utils/formatUtils\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProfileHeader = ({\n  user,\n  profileUser,\n  bio,\n  setBio,\n  username,\n  setUsername,\n  profilePicture,\n  setProfilePicture,\n  isEditing,\n  setIsEditing,\n  error,\n  setError,\n  success,\n  setSuccess,\n  uploadError,\n  isLoading,\n  handleProfilePictureChange,\n  handleFollowRequest,\n  imageLoadError,\n  setImageLoadError,\n  posts,\n  joinedGroups,\n  BIO_MAX_LENGTH,\n  USERNAME_MIN_LENGTH,\n  USERNAME_MAX_LENGTH,\n  DEFAULT_BIO,\n  setTemporaryMessage,\n  setTemporarySuccess,\n  handleRemoveProfilePicture\n}) => {\n  _s();\n  var _profileUser$username;\n  const fileInputRef = useRef(null);\n  const usernameRef = useRef(null);\n  const bioRef = useRef(null);\n  const saveButtonRef = useRef(null);\n  const cancelButtonRef = useRef(null);\n  const followButtonRef = useRef(null);\n  const [showPictureOptions, setShowPictureOptions] = useState(false);\n  const [clickedButton, setClickedButton] = useState(null);\n  const [usernameChangeConfirmation, setUsernameChangeConfirmation] = useState(null);\n  useEffect(() => {\n    if (!(profileUser !== null && profileUser !== void 0 && profileUser.profilePicture)) {\n      setImageLoadError(false);\n    }\n  }, [profileUser === null || profileUser === void 0 ? void 0 : profileUser.profilePicture, setImageLoadError]);\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (bioRef.current) {\n        bioRef.current.focus();\n      }\n    }\n  };\n  const handleBioKeyDown = e => {\n    if (e.key === \"Enter\") {\n      if (e.shiftKey) {\n        e.preventDefault();\n        setBio(bio + \"\\n\");\n      } else {\n        e.preventDefault();\n        saveButtonRef.current.focus();\n      }\n    }\n  };\n  const handleSaveKeyDown = e => {\n    if (e.key === \"ArrowRight\") {\n      e.preventDefault();\n      cancelButtonRef.current.focus();\n    }\n  };\n  const handleCancelKeyDown = e => {\n    if (e.key === \"ArrowLeft\") {\n      e.preventDefault();\n      saveButtonRef.current.focus();\n    }\n  };\n  const handleCancel = () => {\n    setIsEditing(false);\n    setBio((profileUser === null || profileUser === void 0 ? void 0 : profileUser.bio) || DEFAULT_BIO);\n    setUsername((profileUser === null || profileUser === void 0 ? void 0 : profileUser.username) || \"\");\n    setTemporaryMessage(setError, setSuccess, \"\");\n    setTemporarySuccess(setError, setSuccess, \"\");\n    setUsernameChangeConfirmation(null);\n  };\n  const togglePictureOptions = () => {\n    setShowPictureOptions(prev => !prev);\n  };\n  const handleSave = e => {\n    e.preventDefault();\n    if (username !== (profileUser === null || profileUser === void 0 ? void 0 : profileUser.username)) {\n      setUsernameChangeConfirmation(username);\n    } else {\n      handleBioUpdate(e);\n    }\n  };\n  const confirmUsernameChange = e => {\n    setUsernameChangeConfirmation(null);\n    handleBioUpdate(e);\n  };\n  const cancelUsernameChange = () => {\n    setUsernameChangeConfirmation(null);\n  };\n  const handleFollowClick = () => {\n    handleFollowRequest(profileUser === null || profileUser === void 0 ? void 0 : profileUser.id);\n    if (followButtonRef.current) {\n      followButtonRef.current.blur();\n    }\n  };\n  const profilePictureUrl = profileUser !== null && profileUser !== void 0 && profileUser.profilePicture ? `${process.env.REACT_APP_API_URL}${profileUser.profilePicture}?t=${new Date().getTime()}` : null;\n  const totalLikes = posts.reduce((sum, post) => {\n    var _post$likes;\n    return sum + (((_post$likes = post.likes) === null || _post$likes === void 0 ? void 0 : _post$likes.length) || 0);\n  }, 0);\n  const isOwnProfile = (user === null || user === void 0 ? void 0 : user.id) === (profileUser === null || profileUser === void 0 ? void 0 : profileUser.id);\n\n  // If profileUser is not yet loaded, show a loading state\n  if (!profileUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 p-8 rounded-xl shadow-xl border border-blue-100 dark:border-gray-600 mb-8 animate-fade-in-up hover:shadow-2xl dark:hover:shadow-[0_0_15px_rgba(209,213,219,0.3)] transition-all duration-300\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 dark:text-gray-200\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 p-8 rounded-xl shadow-xl border border-blue-100 dark:border-gray-600 mb-8 animate-fade-in-up hover:shadow-2xl dark:hover:shadow-[0_0_15px_rgba(209,213,219,0.3)] transition-all duration-300\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row items-start space-y-6 sm:space-y-0 sm:space-x-8 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: togglePictureOptions,\n          className: \"cursor-pointer\",\n          children: profilePictureUrl && !imageLoadError ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: profilePictureUrl,\n            alt: `${profileUser.username}'s profile picture`,\n            className: \"w-28 h-28 rounded-full object-cover border-4 border-gradient-to-r from-blue-600 to-indigo-600 dark:from-gray-500 dark:to-gray-400 shadow-[0_0_10px_rgba(59,130,246,0.3)] dark:shadow-[0_0_10px_rgba(209,213,219,0.3)] transition-transform duration-300 hover:scale-105 aspect-[5/4]\",\n            \"aria-label\": `${profileUser.username}'s profile picture`,\n            onError: () => setImageLoadError(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-28 h-28 bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-gray-500 dark:to-gray-400 text-white dark:text-gray-200 flex items-center justify-center rounded-full text-4xl font-bold border-4 border-gradient-to-r from-blue-600 to-indigo-600 dark:from-gray-500 dark:to-gray-400 shadow-[0_0_10px_rgba(59,130,246,0.3)] dark:shadow-[0_0_10px_rgba(209,213,219,0.3)] transition-transform duration-300 hover:scale-105 aspect-[5/4]\",\n            \"aria-label\": `${profileUser.username}'s avatar`,\n            children: ((_profileUser$username = profileUser.username) === null || _profileUser$username === void 0 ? void 0 : _profileUser$username.charAt(0).toUpperCase()) || \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), showPictureOptions && isOwnProfile && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-full mt-2 left-4 flex gap-2 z-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 dark:bg-gray-700 rounded-full shadow-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              onMouseDown: () => setClickedButton(\"add\"),\n              onMouseUp: () => setClickedButton(null),\n              className: `bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-purple-600 dark:to-indigo-600 text-white dark:text-gray-200 w-10 h-10 flex items-center justify-center rounded-full hover:bg-blue-700 dark:hover:bg-indigo-700 hover:scale-105 hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(88,28,135,0.5)] dark:hover:dark-glow transition-all duration-300 ${clickedButton === \"add\" ? \"ring-2 ring-offset-2 ring-blue-500/50 dark:ring-purple-500/50\" : \"\"}`,\n              \"aria-label\": profilePictureUrl ? \"Update profile picture\" : \"Add profile picture\",\n              disabled: isLoading,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), profilePictureUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 dark:bg-gray-700 rounded-full shadow-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                handleRemoveProfilePicture(fileInputRef);\n                setShowPictureOptions(false);\n              },\n              onMouseDown: () => setClickedButton(\"delete\"),\n              onMouseUp: () => setClickedButton(null),\n              className: `bg-gradient-to-r from-red-600 to-red-700 dark:from-red-700 dark:to-red-600 text-white dark:text-gray-200 w-10 h-10 flex items-center justify-center rounded-full hover:bg-red-800 dark:hover:bg-red-500 hover:scale-105 hover:shadow-[0_0_10px_rgba(239,68,68,0.5)] dark:hover:shadow-[0_0_10px_rgba(220,38,38,0.5)] dark:hover:dark-glow transition-all duration-300 ${clickedButton === \"delete\" ? \"ring-2 ring-offset-2 ring-red-500/50 dark:ring-red-500/50\" : \"\"}`,\n              \"aria-label\": \"Delete profile picture\",\n              disabled: isLoading,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-trash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileInputRef,\n          onChange: e => handleProfilePictureChange(e, fileInputRef),\n          accept: \"image/*\",\n          className: \"hidden\",\n          \"aria-label\": \"Profile picture upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), uploadError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-full mt-3 bg-red-100 dark:bg-red-900/70 text-red-700 dark:text-red-300 p-2 rounded-md flex items-center space-x-2 text-sm w-48 shadow-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-exclamation-circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: uploadError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full\",\n        children: [isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: username,\n            onChange: e => setUsername(e.target.value),\n            onKeyDown: handleKeyDown,\n            placeholder: \"Update your username\",\n            className: \"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gradient-to-r from-blue-500 to-indigo-500 dark:from-gray-500 dark:to-gray-400 transition-all duration-300 mb-2 text-2xl font-bold text-gray-800 dark:text-amber-200 shadow-sm\",\n            maxLength: USERNAME_MAX_LENGTH,\n            ref: usernameRef,\n            \"aria-label\": \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 dark:text-gray-400 text-sm mb-2\",\n            children: [username.length, \"/\", USERNAME_MAX_LENGTH, \" characters\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"relative text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-amber-200 dark:to-amber-100 hover-underline transition-all duration-300\",\n          children: profileUser.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm bg-clip-text text-transparent bg-gradient-to-r from-gray-500 to-gray-700 dark:from-gray-400 dark:to-gray-300 mt-1\",\n          children: profileUser.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap space-x-4 mt-3 text-sm text-gray-600 dark:text-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold transition-transform duration-300 hover:scale-105\",\n            children: [\"Posts: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dark:text-gray-400\",\n              children: posts.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold transition-transform duration-300 hover:scale-105\",\n            children: [\"Total Likes:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dark:text-gray-400\",\n              children: totalLikes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold transition-transform duration-300 hover:scale-105\",\n            children: [\"Groups:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dark:text-gray-400\",\n              children: joinedGroups.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold transition-transform duration-300 hover:scale-105\",\n            children: [\"Followers:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dark:text-gray-400\",\n              children: profileUser.followers || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold transition-transform duration-300 hover:scale-105\",\n            children: [\"Following:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dark:text-gray-400\",\n              children: profileUser.following || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), profileUser.createdAt && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold transition-transform duration-300 hover:scale-105\",\n            children: [\"Joined:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dark:text-gray-400\",\n              children: formatDateTime(profileUser.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSave,\n      className: \"animate-fade-in-up\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: bio,\n        onChange: e => setBio(e.target.value),\n        onKeyDown: handleBioKeyDown,\n        placeholder: \"Update your bio\",\n        className: \"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gradient-to-r from-blue-500 to-indigo-500 dark:from-gray-500 dark:to-gray-400 transition-all duration-300 mb-2 text-gray-800 dark:text-gray-200 shadow-sm\",\n        rows: \"4\",\n        maxLength: BIO_MAX_LENGTH,\n        ref: bioRef,\n        \"aria-label\": \"Bio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 dark:text-gray-400 text-sm mb-2\",\n        children: [bio.length, \"/\", BIO_MAX_LENGTH, \" characters\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-100 dark:bg-red-900/70 text-red-700 dark:text-red-300 p-3 mb-4 rounded-md flex items-center space-x-2 shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-exclamation-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-cyan-600 dark:to-teal-600 text-white dark:text-gray-200 px-5 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-teal-600 hover:scale-105 hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(21,94,117,0.5)] dark:hover:dark-glow transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50\",\n          disabled: isLoading,\n          onKeyDown: handleSaveKeyDown,\n          ref: saveButtonRef,\n          \"aria-label\": \"Save Profile\",\n          children: isLoading ? \"Saving...\" : \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          onKeyDown: handleCancelKeyDown,\n          className: \"bg-gradient-to-r from-gray-500 to-gray-600 dark:from-gray-600 dark:to-gray-500 text-white dark:text-gray-200 px-5 py-2 rounded-lg hover:shadow-[0_0_10px_rgba(107,114,128,0.5)] dark:hover:shadow-[0_0_10px_rgba(209,213,219,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50\",\n          ref: cancelButtonRef,\n          \"aria-label\": \"Cancel\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this), usernameChangeConfirmation && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 bg-yellow-100 dark:bg-yellow-900/70 text-yellow-700 dark:text-yellow-300 p-4 rounded-lg border border-gradient-to-r from-yellow-200 to-yellow-300 dark:from-yellow-800 dark:to-yellow-700 shadow-md hover:shadow-[0_0_10px_rgba(234,179,8,0.5)] dark:hover:shadow-[0_0_10px_rgba(209,213,219,0.5)] transition-all duration-300 animate-fade-in-up flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Are you sure you want to change your username to \\\"\", usernameChangeConfirmation, \"\\\"? You will need to use this username to log in from now on.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: confirmUsernameChange,\n            className: \"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-cyan-600 dark:to-teal-600 text-white dark:text-gray-200 px-3 py-1 rounded-md hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(21,94,117,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 text-sm\",\n            \"aria-label\": \"Confirm Username Change\",\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: cancelUsernameChange,\n            className: \"bg-gradient-to-r from-gray-500 to-gray-600 dark:from-gray-600 dark:to-gray-500 text-white dark:text-gray-200 px-3 py-1 rounded-md hover:shadow-[0_0_10px_rgba(107,114,128,0.5)] dark:hover:shadow-[0_0_10px_rgba(209,213,219,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 text-sm\",\n            \"aria-label\": \"Cancel Username Change\",\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 dark:text-gray-200 mb-4 italic\",\n        children: profileUser.bio || DEFAULT_BIO\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: isOwnProfile ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsEditing(true),\n          className: \"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-green-600 dark:to-emerald-600 text-white dark:text-gray-200 px-5 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-emerald-600 hover:scale-105 hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(6,95,70,0.5)] dark:hover:dark-glow transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 flex items-center space-x-2\",\n          \"aria-label\": \"Edit Profile\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-pen text-base\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleFollowClick,\n          ref: followButtonRef,\n          className: `${profileUser.isFollowing ? \"bg-gradient-to-r from-gray-500 to-gray-600 dark:from-gray-600 dark:to-gray-500\" : \"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-cyan-600 dark:to-teal-600\"} text-white dark:text-gray-200 px-5 py-2 rounded-lg hover:scale-105 hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(21,94,117,0.5)] dark:hover:dark-glow transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 flex items-center space-x-2 disabled:opacity-50`,\n          disabled: isLoading,\n          \"aria-label\": profileUser.isFollowing ? \"Unfollow\" : \"Follow\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fa-solid ${profileUser.isFollowing ? \"fa-user-minus\" : \"fa-user-plus\"} text-base`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: profileUser.isFollowing ? \"Unfollow\" : \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-100 dark:bg-green-900/70 text-green-700 dark:text-green-300 p-3 mt-4 rounded-md flex items-center space-x-2 shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-check-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileHeader, \"9HMB1rIAvjbpjAA7cjK+B9goONI=\");\n_c = ProfileHeader;\nexport default ProfileHeader;\nvar _c;\n$RefreshReg$(_c, \"ProfileHeader\");","map":{"version":3,"names":["React","useRef","useState","useEffect","formatDateTime","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfileHeader","user","profileUser","bio","setBio","username","setUsername","profilePicture","setProfilePicture","isEditing","setIsEditing","error","setError","success","setSuccess","uploadError","isLoading","handleProfilePictureChange","handleFollowRequest","imageLoadError","setImageLoadError","posts","joinedGroups","BIO_MAX_LENGTH","USERNAME_MIN_LENGTH","USERNAME_MAX_LENGTH","DEFAULT_BIO","setTemporaryMessage","setTemporarySuccess","handleRemoveProfilePicture","_s","_profileUser$username","fileInputRef","usernameRef","bioRef","saveButtonRef","cancelButtonRef","followButtonRef","showPictureOptions","setShowPictureOptions","clickedButton","setClickedButton","usernameChangeConfirmation","setUsernameChangeConfirmation","handleKeyDown","e","key","preventDefault","current","focus","handleBioKeyDown","shiftKey","handleSaveKeyDown","handleCancelKeyDown","handleCancel","togglePictureOptions","prev","handleSave","handleBioUpdate","confirmUsernameChange","cancelUsernameChange","handleFollowClick","id","blur","profilePictureUrl","process","env","REACT_APP_API_URL","Date","getTime","totalLikes","reduce","sum","post","_post$likes","likes","length","isOwnProfile","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","onError","charAt","toUpperCase","_fileInputRef$current","click","onMouseDown","onMouseUp","disabled","type","ref","onChange","accept","value","target","onKeyDown","placeholder","maxLength","email","followers","following","createdAt","onSubmit","rows","isFollowing","_c","$RefreshReg$"],"sources":["D:/NexusEd/frontend/src/components/ProfileHeader.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport { formatDateTime } from \"../utils/formatUtils\";\r\n\r\nconst ProfileHeader = ({\r\n  user,\r\n  profileUser,\r\n  bio,\r\n  setBio,\r\n  username,\r\n  setUsername,\r\n  profilePicture,\r\n  setProfilePicture,\r\n  isEditing,\r\n  setIsEditing,\r\n  error,\r\n  setError,\r\n  success,\r\n  setSuccess,\r\n  uploadError,\r\n  isLoading,\r\n  handleProfilePictureChange,\r\n  handleFollowRequest,\r\n  imageLoadError,\r\n  setImageLoadError,\r\n  posts,\r\n  joinedGroups,\r\n  BIO_MAX_LENGTH,\r\n  USERNAME_MIN_LENGTH,\r\n  USERNAME_MAX_LENGTH,\r\n  DEFAULT_BIO,\r\n  setTemporaryMessage,\r\n  setTemporarySuccess,\r\n  handleRemoveProfilePicture,\r\n}) => {\r\n  const fileInputRef = useRef(null);\r\n  const usernameRef = useRef(null);\r\n  const bioRef = useRef(null);\r\n  const saveButtonRef = useRef(null);\r\n  const cancelButtonRef = useRef(null);\r\n  const followButtonRef = useRef(null);\r\n  const [showPictureOptions, setShowPictureOptions] = useState(false);\r\n  const [clickedButton, setClickedButton] = useState(null);\r\n  const [usernameChangeConfirmation, setUsernameChangeConfirmation] =\r\n    useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!profileUser?.profilePicture) {\r\n      setImageLoadError(false);\r\n    }\r\n  }, [profileUser?.profilePicture, setImageLoadError]);\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      if (bioRef.current) {\r\n        bioRef.current.focus();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBioKeyDown = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      if (e.shiftKey) {\r\n        e.preventDefault();\r\n        setBio(bio + \"\\n\");\r\n      } else {\r\n        e.preventDefault();\r\n        saveButtonRef.current.focus();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSaveKeyDown = (e) => {\r\n    if (e.key === \"ArrowRight\") {\r\n      e.preventDefault();\r\n      cancelButtonRef.current.focus();\r\n    }\r\n  };\r\n\r\n  const handleCancelKeyDown = (e) => {\r\n    if (e.key === \"ArrowLeft\") {\r\n      e.preventDefault();\r\n      saveButtonRef.current.focus();\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setBio(profileUser?.bio || DEFAULT_BIO);\r\n    setUsername(profileUser?.username || \"\");\r\n    setTemporaryMessage(setError, setSuccess, \"\");\r\n    setTemporarySuccess(setError, setSuccess, \"\");\r\n    setUsernameChangeConfirmation(null);\r\n  };\r\n\r\n  const togglePictureOptions = () => {\r\n    setShowPictureOptions((prev) => !prev);\r\n  };\r\n\r\n  const handleSave = (e) => {\r\n    e.preventDefault();\r\n    if (username !== profileUser?.username) {\r\n      setUsernameChangeConfirmation(username);\r\n    } else {\r\n      handleBioUpdate(e);\r\n    }\r\n  };\r\n\r\n  const confirmUsernameChange = (e) => {\r\n    setUsernameChangeConfirmation(null);\r\n    handleBioUpdate(e);\r\n  };\r\n\r\n  const cancelUsernameChange = () => {\r\n    setUsernameChangeConfirmation(null);\r\n  };\r\n\r\n  const handleFollowClick = () => {\r\n    handleFollowRequest(profileUser?.id);\r\n    if (followButtonRef.current) {\r\n      followButtonRef.current.blur();\r\n    }\r\n  };\r\n\r\n  const profilePictureUrl = profileUser?.profilePicture\r\n    ? `${process.env.REACT_APP_API_URL}${\r\n        profileUser.profilePicture\r\n      }?t=${new Date().getTime()}`\r\n    : null;\r\n\r\n  const totalLikes = posts.reduce(\r\n    (sum, post) => sum + (post.likes?.length || 0),\r\n    0\r\n  );\r\n\r\n  const isOwnProfile = user?.id === profileUser?.id;\r\n\r\n  // If profileUser is not yet loaded, show a loading state\r\n  if (!profileUser) {\r\n    return (\r\n      <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 p-8 rounded-xl shadow-xl border border-blue-100 dark:border-gray-600 mb-8 animate-fade-in-up hover:shadow-2xl dark:hover:shadow-[0_0_15px_rgba(209,213,219,0.3)] transition-all duration-300\">\r\n        <p className=\"text-gray-700 dark:text-gray-200\">Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 p-8 rounded-xl shadow-xl border border-blue-100 dark:border-gray-600 mb-8 animate-fade-in-up hover:shadow-2xl dark:hover:shadow-[0_0_15px_rgba(209,213,219,0.3)] transition-all duration-300\">\r\n      <div className=\"flex flex-col sm:flex-row items-start space-y-6 sm:space-y-0 sm:space-x-8 mb-6\">\r\n        <div className=\"relative\">\r\n          <div onClick={togglePictureOptions} className=\"cursor-pointer\">\r\n            {profilePictureUrl && !imageLoadError ? (\r\n              <img\r\n                src={profilePictureUrl}\r\n                alt={`${profileUser.username}'s profile picture`}\r\n                className=\"w-28 h-28 rounded-full object-cover border-4 border-gradient-to-r from-blue-600 to-indigo-600 dark:from-gray-500 dark:to-gray-400 shadow-[0_0_10px_rgba(59,130,246,0.3)] dark:shadow-[0_0_10px_rgba(209,213,219,0.3)] transition-transform duration-300 hover:scale-105 aspect-[5/4]\"\r\n                aria-label={`${profileUser.username}'s profile picture`}\r\n                onError={() => setImageLoadError(true)}\r\n              />\r\n            ) : (\r\n              <div\r\n                className=\"w-28 h-28 bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-gray-500 dark:to-gray-400 text-white dark:text-gray-200 flex items-center justify-center rounded-full text-4xl font-bold border-4 border-gradient-to-r from-blue-600 to-indigo-600 dark:from-gray-500 dark:to-gray-400 shadow-[0_0_10px_rgba(59,130,246,0.3)] dark:shadow-[0_0_10px_rgba(209,213,219,0.3)] transition-transform duration-300 hover:scale-105 aspect-[5/4]\"\r\n                aria-label={`${profileUser.username}'s avatar`}\r\n              >\r\n                {profileUser.username?.charAt(0).toUpperCase() || \"\"}\r\n              </div>\r\n            )}\r\n          </div>\r\n          {showPictureOptions && isOwnProfile && (\r\n            <div className=\"absolute top-full mt-2 left-4 flex gap-2 z-10\">\r\n              <div className=\"bg-gray-100 dark:bg-gray-700 rounded-full shadow-lg\">\r\n                <button\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  onMouseDown={() => setClickedButton(\"add\")}\r\n                  onMouseUp={() => setClickedButton(null)}\r\n                  className={`bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-purple-600 dark:to-indigo-600 text-white dark:text-gray-200 w-10 h-10 flex items-center justify-center rounded-full hover:bg-blue-700 dark:hover:bg-indigo-700 hover:scale-105 hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(88,28,135,0.5)] dark:hover:dark-glow transition-all duration-300 ${\r\n                    clickedButton === \"add\"\r\n                      ? \"ring-2 ring-offset-2 ring-blue-500/50 dark:ring-purple-500/50\"\r\n                      : \"\"\r\n                  }`}\r\n                  aria-label={\r\n                    profilePictureUrl\r\n                      ? \"Update profile picture\"\r\n                      : \"Add profile picture\"\r\n                  }\r\n                  disabled={isLoading}\r\n                >\r\n                  <i className=\"fa-solid fa-plus\"></i>\r\n                </button>\r\n              </div>\r\n              {profilePictureUrl && (\r\n                <div className=\"bg-gray-100 dark:bg-gray-700 rounded-full shadow-lg\">\r\n                  <button\r\n                    onClick={() => {\r\n                      handleRemoveProfilePicture(fileInputRef);\r\n                      setShowPictureOptions(false);\r\n                    }}\r\n                    onMouseDown={() => setClickedButton(\"delete\")}\r\n                    onMouseUp={() => setClickedButton(null)}\r\n                    className={`bg-gradient-to-r from-red-600 to-red-700 dark:from-red-700 dark:to-red-600 text-white dark:text-gray-200 w-10 h-10 flex items-center justify-center rounded-full hover:bg-red-800 dark:hover:bg-red-500 hover:scale-105 hover:shadow-[0_0_10px_rgba(239,68,68,0.5)] dark:hover:shadow-[0_0_10px_rgba(220,38,38,0.5)] dark:hover:dark-glow transition-all duration-300 ${\r\n                      clickedButton === \"delete\"\r\n                        ? \"ring-2 ring-offset-2 ring-red-500/50 dark:ring-red-500/50\"\r\n                        : \"\"\r\n                    }`}\r\n                    aria-label=\"Delete profile picture\"\r\n                    disabled={isLoading}\r\n                  >\r\n                    <i className=\"fa-solid fa-trash\"></i>\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          <input\r\n            type=\"file\"\r\n            ref={fileInputRef}\r\n            onChange={(e) => handleProfilePictureChange(e, fileInputRef)}\r\n            accept=\"image/*\"\r\n            className=\"hidden\"\r\n            aria-label=\"Profile picture upload\"\r\n          />\r\n          {uploadError && (\r\n            <div className=\"absolute top-full mt-3 bg-red-100 dark:bg-red-900/70 text-red-700 dark:text-red-300 p-2 rounded-md flex items-center space-x-2 text-sm w-48 shadow-md\">\r\n              <i className=\"fa-solid fa-exclamation-circle\"></i>\r\n              <span>{uploadError}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"w-full\">\r\n          {isEditing ? (\r\n            <>\r\n              <input\r\n                type=\"text\"\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                onKeyDown={handleKeyDown}\r\n                placeholder=\"Update your username\"\r\n                className=\"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gradient-to-r from-blue-500 to-indigo-500 dark:from-gray-500 dark:to-gray-400 transition-all duration-300 mb-2 text-2xl font-bold text-gray-800 dark:text-amber-200 shadow-sm\"\r\n                maxLength={USERNAME_MAX_LENGTH}\r\n                ref={usernameRef}\r\n                aria-label=\"Username\"\r\n              />\r\n              <p className=\"text-gray-500 dark:text-gray-400 text-sm mb-2\">\r\n                {username.length}/{USERNAME_MAX_LENGTH} characters\r\n              </p>\r\n            </>\r\n          ) : (\r\n            <h2 className=\"relative text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-amber-200 dark:to-amber-100 hover-underline transition-all duration-300\">\r\n              {profileUser.username}\r\n            </h2>\r\n          )}\r\n          <p className=\"text-sm bg-clip-text text-transparent bg-gradient-to-r from-gray-500 to-gray-700 dark:from-gray-400 dark:to-gray-300 mt-1\">\r\n            {profileUser.email}\r\n          </p>\r\n          <div className=\"flex flex-wrap space-x-4 mt-3 text-sm text-gray-600 dark:text-gray-200\">\r\n            <p className=\"font-semibold transition-transform duration-300 hover:scale-105\">\r\n              Posts: <span className=\"dark:text-gray-400\">{posts.length}</span>\r\n            </p>\r\n            <p className=\"font-semibold transition-transform duration-300 hover:scale-105\">\r\n              Total Likes:{\" \"}\r\n              <span className=\"dark:text-gray-400\">{totalLikes}</span>\r\n            </p>\r\n            <p className=\"font-semibold transition-transform duration-300 hover:scale-105\">\r\n              Groups:{\" \"}\r\n              <span className=\"dark:text-gray-400\">{joinedGroups.length}</span>\r\n            </p>\r\n            <p className=\"font-semibold transition-transform duration-300 hover:scale-105\">\r\n              Followers:{\" \"}\r\n              <span className=\"dark:text-gray-400\">\r\n                {profileUser.followers || 0}\r\n              </span>\r\n            </p>\r\n            <p className=\"font-semibold transition-transform duration-300 hover:scale-105\">\r\n              Following:{\" \"}\r\n              <span className=\"dark:text-gray-400\">\r\n                {profileUser.following || 0}\r\n              </span>\r\n            </p>\r\n            {profileUser.createdAt && (\r\n              <p className=\"font-semibold transition-transform duration-300 hover:scale-105\">\r\n                Joined:{\" \"}\r\n                <span className=\"dark:text-gray-400\">\r\n                  {formatDateTime(profileUser.createdAt)}\r\n                </span>\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {isEditing ? (\r\n        <form onSubmit={handleSave} className=\"animate-fade-in-up\">\r\n          <textarea\r\n            value={bio}\r\n            onChange={(e) => setBio(e.target.value)}\r\n            onKeyDown={handleBioKeyDown}\r\n            placeholder=\"Update your bio\"\r\n            className=\"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gradient-to-r from-blue-500 to-indigo-500 dark:from-gray-500 dark:to-gray-400 transition-all duration-300 mb-2 text-gray-800 dark:text-gray-200 shadow-sm\"\r\n            rows=\"4\"\r\n            maxLength={BIO_MAX_LENGTH}\r\n            ref={bioRef}\r\n            aria-label=\"Bio\"\r\n          />\r\n          <p className=\"text-gray-500 dark:text-gray-400 text-sm mb-2\">\r\n            {bio.length}/{BIO_MAX_LENGTH} characters\r\n          </p>\r\n          {error && (\r\n            <div className=\"bg-red-100 dark:bg-red-900/70 text-red-700 dark:text-red-300 p-3 mb-4 rounded-md flex items-center space-x-2 shadow-md\">\r\n              <i className=\"fa-solid fa-exclamation-circle\"></i>\r\n              <span>{error}</span>\r\n            </div>\r\n          )}\r\n          <div className=\"flex space-x-3\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-cyan-600 dark:to-teal-600 text-white dark:text-gray-200 px-5 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-teal-600 hover:scale-105 hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(21,94,117,0.5)] dark:hover:dark-glow transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50\"\r\n              disabled={isLoading}\r\n              onKeyDown={handleSaveKeyDown}\r\n              ref={saveButtonRef}\r\n              aria-label=\"Save Profile\"\r\n            >\r\n              {isLoading ? \"Saving...\" : \"Save\"}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleCancel}\r\n              onKeyDown={handleCancelKeyDown}\r\n              className=\"bg-gradient-to-r from-gray-500 to-gray-600 dark:from-gray-600 dark:to-gray-500 text-white dark:text-gray-200 px-5 py-2 rounded-lg hover:shadow-[0_0_10px_rgba(107,114,128,0.5)] dark:hover:shadow-[0_0_10px_rgba(209,213,219,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50\"\r\n              ref={cancelButtonRef}\r\n              aria-label=\"Cancel\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n          {usernameChangeConfirmation && (\r\n            <div className=\"mt-4 bg-yellow-100 dark:bg-yellow-900/70 text-yellow-700 dark:text-yellow-300 p-4 rounded-lg border border-gradient-to-r from-yellow-200 to-yellow-300 dark:from-yellow-800 dark:to-yellow-700 shadow-md hover:shadow-[0_0_10px_rgba(234,179,8,0.5)] dark:hover:shadow-[0_0_10px_rgba(209,213,219,0.5)] transition-all duration-300 animate-fade-in-up flex justify-between items-center\">\r\n              <span>\r\n                Are you sure you want to change your username to \"\r\n                {usernameChangeConfirmation}\"? You will need to use this\r\n                username to log in from now on.\r\n              </span>\r\n              <div className=\"flex space-x-2\">\r\n                <button\r\n                  onClick={confirmUsernameChange}\r\n                  className=\"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-cyan-600 dark:to-teal-600 text-white dark:text-gray-200 px-3 py-1 rounded-md hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(21,94,117,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 text-sm\"\r\n                  aria-label=\"Confirm Username Change\"\r\n                >\r\n                  Yes\r\n                </button>\r\n                <button\r\n                  onClick={cancelUsernameChange}\r\n                  className=\"bg-gradient-to-r from-gray-500 to-gray-600 dark:from-gray-600 dark:to-gray-500 text-white dark:text-gray-200 px-3 py-1 rounded-md hover:shadow-[0_0_10px_rgba(107,114,128,0.5)] dark:hover:shadow-[0_0_10px_rgba(209,213,219,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 text-sm\"\r\n                  aria-label=\"Cancel Username Change\"\r\n                >\r\n                  No\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </form>\r\n      ) : (\r\n        <>\r\n          <p className=\"text-gray-700 dark:text-gray-200 mb-4 italic\">\r\n            {profileUser.bio || DEFAULT_BIO}\r\n          </p>\r\n          <div className=\"flex space-x-3\">\r\n            {isOwnProfile ? (\r\n              <button\r\n                onClick={() => setIsEditing(true)}\r\n                className=\"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-green-600 dark:to-emerald-600 text-white dark:text-gray-200 px-5 py-2 rounded-lg hover:bg-blue-700 dark:hover:bg-emerald-600 hover:scale-105 hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(6,95,70,0.5)] dark:hover:dark-glow transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 flex items-center space-x-2\"\r\n                aria-label=\"Edit Profile\"\r\n              >\r\n                <i className=\"fa-solid fa-pen text-base\"></i>\r\n                <span>Edit Profile</span>\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={handleFollowClick}\r\n                ref={followButtonRef}\r\n                className={`${\r\n                  profileUser.isFollowing\r\n                    ? \"bg-gradient-to-r from-gray-500 to-gray-600 dark:from-gray-600 dark:to-gray-500\"\r\n                    : \"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-cyan-600 dark:to-teal-600\"\r\n                } text-white dark:text-gray-200 px-5 py-2 rounded-lg hover:scale-105 hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(21,94,117,0.5)] dark:hover:dark-glow transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 flex items-center space-x-2 disabled:opacity-50`}\r\n                disabled={isLoading}\r\n                aria-label={profileUser.isFollowing ? \"Unfollow\" : \"Follow\"}\r\n              >\r\n                <i\r\n                  className={`fa-solid ${\r\n                    profileUser.isFollowing ? \"fa-user-minus\" : \"fa-user-plus\"\r\n                  } text-base`}\r\n                ></i>\r\n                <span>{profileUser.isFollowing ? \"Unfollow\" : \"Follow\"}</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n          {success && (\r\n            <div className=\"bg-green-100 dark:bg-green-900/70 text-green-700 dark:text-green-300 p-3 mt-4 rounded-md flex items-center space-x-2 shadow-md\">\r\n              <i className=\"fa-solid fa-check-circle\"></i>\r\n              <span>{success}</span>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileHeader;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}