{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects_completed\\\\NexusEd\\\\frontend\\\\src\\\\components\\\\GroupDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { Card, Row, Col, Badge, Button, Spinner, Alert, Tab, Nav } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport PostForm from \"./PostForm\";\nimport PostCard from \"./PostCard\";\nimport GroupChat from \"./GroupChat\";\nimport ConfirmationMessage from \"./ConfirmationMessage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GroupDetail() {\n  _s();\n  var _group$members, _group$members2, _group$members3, _group$members4;\n  const {\n    groupId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    isLoading: authLoading\n  } = useContext(AuthContext);\n  const [group, setGroup] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [activeTab, setActiveTab] = useState(\"discussion\");\n  const [isLiking, setIsLiking] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [isCommenting, setIsCommenting] = useState(false);\n  const [showMembers, setShowMembers] = useState(false);\n  const [timeoutId, setTimeoutId] = useState(null);\n  useEffect(() => {\n    const fetchGroupDetails = async () => {\n      try {\n        setIsLoading(true);\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}`);\n        setGroup(response.data);\n\n        // Fetch group posts\n        const postsResponse = await axios.get(`${process.env.REACT_APP_API_URL}/api/posts/group/${groupId}`);\n        setPosts(postsResponse.data);\n      } catch (err) {\n        console.error(\"Error fetching group details:\", err);\n        setError(\"Failed to load group details. Please try again later.\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchGroupDetails();\n  }, [groupId]);\n  const setTemporaryMessage = message => {\n    setError(message);\n    if (timeoutId) clearTimeout(timeoutId);\n    setTimeoutId(setTimeout(() => setError(\"\"), 3000));\n  };\n  const setTemporarySuccess = message => {\n    setSuccess(message);\n    if (timeoutId) clearTimeout(timeoutId);\n    setTimeoutId(setTimeout(() => setSuccess(\"\"), 3000));\n  };\n  const handleCreatePost = async content => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/posts`, {\n        content,\n        studyGroup: groupId\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts([response.data, ...posts]);\n      setTemporarySuccess(\"Post created successfully!\");\n      return true;\n    } catch (err) {\n      console.error(\"Error creating post:\", err);\n      setTemporaryMessage(\"Failed to create post. Please try again.\");\n      return false;\n    }\n  };\n  const handleLikePost = async postId => {\n    if (isLiking) return;\n    try {\n      setIsLiking(true);\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/posts/${postId}/like`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.map(post => post._id === postId ? response.data : post));\n    } catch (err) {\n      console.error(\"Error liking post:\", err);\n      setTemporaryMessage(\"Failed to like post. Please try again.\");\n    } finally {\n      setIsLiking(false);\n    }\n  };\n  const handleDeletePost = async postId => {\n    if (isDeleting) return;\n    try {\n      setIsDeleting(true);\n      await axios.delete(`${process.env.REACT_APP_API_URL}/api/posts/${postId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.filter(post => post._id !== postId));\n      setTemporarySuccess(\"Post deleted successfully!\");\n    } catch (err) {\n      console.error(\"Error deleting post:\", err);\n      setTemporaryMessage(\"Failed to delete post. Please try again.\");\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n  const handleAddComment = async (postId, content) => {\n    if (isCommenting) return;\n    try {\n      setIsCommenting(true);\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments`, {\n        content\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.map(post => post._id === postId ? response.data : post));\n      setTemporarySuccess(\"Comment added successfully!\");\n    } catch (err) {\n      console.error(\"Error adding comment:\", err);\n      setTemporaryMessage(\"Failed to add comment. Please try again.\");\n    } finally {\n      setIsCommenting(false);\n    }\n  };\n  const handleDeleteComment = async (postId, commentId) => {\n    try {\n      const response = await axios.delete(`${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments/${commentId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.map(post => post._id === postId ? response.data : post));\n      setTemporarySuccess(\"Comment deleted successfully!\");\n    } catch (err) {\n      console.error(\"Error deleting comment:\", err);\n      setTemporaryMessage(\"Failed to delete comment. Please try again.\");\n    }\n  };\n  const handleJoinGroup = async () => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/join`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setGroup(response.data);\n      setTemporarySuccess(\"Successfully joined the group!\");\n    } catch (err) {\n      console.error(\"Error joining group:\", err);\n      setTemporaryMessage(\"Failed to join group. Please try again.\");\n    }\n  };\n  const handleLeaveGroup = async () => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/leave`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setGroup(response.data);\n      setTemporarySuccess(\"Successfully left the group!\");\n    } catch (err) {\n      console.error(\"Error leaving group:\", err);\n      setTemporaryMessage(\"Failed to leave group. Please try again.\");\n    }\n  };\n  if (authLoading || isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3 text-secondary\",\n        children: \"Loading group details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this);\n  }\n  if (!group) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n          children: \"Group Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"The study group you're looking for doesn't exist.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => navigate(\"/study-groups\"),\n          children: \"Back to Study Groups\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this);\n  }\n  const isMember = user && ((_group$members = group.members) === null || _group$members === void 0 ? void 0 : _group$members.some(member => member._id === user.id));\n  const isCreator = user && group.creator._id === user.id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"animate-fade-in-up\",\n    children: [error && /*#__PURE__*/_jsxDEV(ConfirmationMessage, {\n      message: error,\n      type: \"error\",\n      onClose: () => setError(\"\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(ConfirmationMessage, {\n      message: success,\n      type: \"success\",\n      onClose: () => setSuccess(\"\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-4 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 8,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"me-3\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas ${group.groupImage} fs-2 text-primary bg-light rounded-circle p-3`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"fs-3 fw-bold mb-1\",\n                  children: group.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"primary\",\n                    children: group.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-users me-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 23\n                    }, this), ((_group$members2 = group.members) === null || _group$members2 === void 0 ? void 0 : _group$members2.length) || 0, \" members\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted\",\n                    children: [\"Created by \", group.creator.username]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-secondary mb-0\",\n              children: group.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            className: \"text-end\",\n            children: [user && !isMember && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              size: \"lg\",\n              onClick: handleJoinGroup,\n              className: \"btn-hover-shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plus me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), \"Join Group\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), user && isMember && !isCreator && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-danger\",\n              size: \"lg\",\n              onClick: handleLeaveGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-sign-out-alt me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this), \"Leave Group\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"fw-semibold text-primary mb-0\",\n                children: [\"Members (\", ((_group$members3 = group.members) === null || _group$members3 === void 0 ? void 0 : _group$members3.length) || 0, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"link\",\n                size: \"sm\",\n                onClick: () => setShowMembers(!showMembers),\n                className: \"text-decoration-none\",\n                children: [showMembers ? \"Hide\" : \"Show\", \" Members\", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas fa-chevron-${showMembers ? \"up\" : \"down\"} ms-1`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), showMembers && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                xs: 2,\n                md: 3,\n                lg: 4,\n                className: \"g-2\",\n                children: (_group$members4 = group.members) === null || _group$members4 === void 0 ? void 0 : _group$members4.map(member => /*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center p-2 bg-light rounded\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-user-circle me-2 text-secondary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 354,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"small\",\n                      children: member.username\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 27\n                    }, this), member._id === group.creator._id && /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"success\",\n                      className: \"ms-auto small\",\n                      children: \"Creator\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 25\n                  }, this)\n                }, member._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tab.Container, {\n      activeKey: activeTab,\n      onSelect: setActiveTab,\n      children: [/*#__PURE__*/_jsxDEV(Nav, {\n        variant: \"tabs\",\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            eventKey: \"discussion\",\n            className: \"px-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-comments me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), \"Discussion (\", posts.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            eventKey: \"chat\",\n            className: \"px-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-comment-dots me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), \"Chat & Events\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n        children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n          eventKey: \"discussion\",\n          children: [user && isMember && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(PostForm, {\n              handleCreatePost: handleCreatePost\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), posts.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"info\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-info-circle me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this), \"No posts yet.\", \" \", isMember && \"Be the first to start a discussion!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this) : posts.map((post, index) => /*#__PURE__*/_jsxDEV(PostCard, {\n            post: post,\n            currentUser: user,\n            handleLikePost: handleLikePost,\n            handleDeletePost: handleDeletePost,\n            handleAddComment: handleAddComment,\n            handleDeleteComment: handleDeleteComment,\n            isLiking: isLiking,\n            isDeleting: isDeleting,\n            isCommenting: isCommenting,\n            animationDelay: `${index * 0.1}s`\n          }, post._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n          eventKey: \"chat\",\n          children: user && isMember ? /*#__PURE__*/_jsxDEV(GroupChat, {\n            group: group,\n            user: user,\n            setTemporaryMessage: setTemporaryMessage,\n            setTemporarySuccess: setTemporarySuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"warning\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-lock me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this), \"You must be a member to access the group chat and events.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n}\n_s(GroupDetail, \"qhMp8SdALvRt4iBMVRDRVTRbDJU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = GroupDetail;\nexport default GroupDetail;\nvar _c;\n$RefreshReg$(_c, \"GroupDetail\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","useNavigate","AuthContext","Card","Row","Col","Badge","Button","Spinner","Alert","Tab","Nav","axios","PostForm","PostCard","GroupChat","ConfirmationMessage","jsxDEV","_jsxDEV","GroupDetail","_s","_group$members","_group$members2","_group$members3","_group$members4","groupId","navigate","user","isLoading","authLoading","group","setGroup","posts","setPosts","setIsLoading","error","setError","success","setSuccess","activeTab","setActiveTab","isLiking","setIsLiking","isDeleting","setIsDeleting","isCommenting","setIsCommenting","showMembers","setShowMembers","timeoutId","setTimeoutId","fetchGroupDetails","response","get","process","env","REACT_APP_API_URL","data","postsResponse","err","console","setTemporaryMessage","message","clearTimeout","setTimeout","setTemporarySuccess","handleCreatePost","content","post","studyGroup","headers","Authorization","localStorage","getItem","handleLikePost","postId","map","_id","handleDeletePost","delete","filter","handleAddComment","handleDeleteComment","commentId","handleJoinGroup","handleLeaveGroup","className","children","animation","variant","fileName","_jsxFileName","lineNumber","columnNumber","Heading","onClick","isMember","members","some","member","id","isCreator","creator","type","onClose","Body","md","groupImage","name","bg","category","length","username","description","size","xs","lg","Container","activeKey","onSelect","Item","Link","eventKey","Content","Pane","index","currentUser","animationDelay","_c","$RefreshReg$"],"sources":["D:/Projects_completed/NexusEd/frontend/src/components/GroupDetail.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Badge,\r\n  Button,\r\n  Spinner,\r\n  Alert,\r\n  Tab,\r\n  Nav,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport PostForm from \"./PostForm\";\r\nimport PostCard from \"./PostCard\";\r\nimport GroupChat from \"./GroupChat\";\r\nimport ConfirmationMessage from \"./ConfirmationMessage\";\r\n\r\nfunction GroupDetail() {\r\n  const { groupId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user, isLoading: authLoading } = useContext(AuthContext);\r\n  const [group, setGroup] = useState(null);\r\n  const [posts, setPosts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"discussion\");\r\n  const [isLiking, setIsLiking] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [isCommenting, setIsCommenting] = useState(false);\r\n  const [showMembers, setShowMembers] = useState(false);\r\n  const [timeoutId, setTimeoutId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchGroupDetails = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await axios.get(\r\n          `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}`\r\n        );\r\n        setGroup(response.data);\r\n\r\n        // Fetch group posts\r\n        const postsResponse = await axios.get(\r\n          `${process.env.REACT_APP_API_URL}/api/posts/group/${groupId}`\r\n        );\r\n        setPosts(postsResponse.data);\r\n      } catch (err) {\r\n        console.error(\"Error fetching group details:\", err);\r\n        setError(\"Failed to load group details. Please try again later.\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchGroupDetails();\r\n  }, [groupId]);\r\n\r\n  const setTemporaryMessage = (message) => {\r\n    setError(message);\r\n    if (timeoutId) clearTimeout(timeoutId);\r\n    setTimeoutId(setTimeout(() => setError(\"\"), 3000));\r\n  };\r\n\r\n  const setTemporarySuccess = (message) => {\r\n    setSuccess(message);\r\n    if (timeoutId) clearTimeout(timeoutId);\r\n    setTimeoutId(setTimeout(() => setSuccess(\"\"), 3000));\r\n  };\r\n\r\n  const handleCreatePost = async (content) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts`,\r\n        { content, studyGroup: groupId },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setPosts([response.data, ...posts]);\r\n      setTemporarySuccess(\"Post created successfully!\");\r\n      return true;\r\n    } catch (err) {\r\n      console.error(\"Error creating post:\", err);\r\n      setTemporaryMessage(\"Failed to create post. Please try again.\");\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleLikePost = async (postId) => {\r\n    if (isLiking) return;\r\n\r\n    try {\r\n      setIsLiking(true);\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/like`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n    } catch (err) {\r\n      console.error(\"Error liking post:\", err);\r\n      setTemporaryMessage(\"Failed to like post. Please try again.\");\r\n    } finally {\r\n      setIsLiking(false);\r\n    }\r\n  };\r\n\r\n  const handleDeletePost = async (postId) => {\r\n    if (isDeleting) return;\r\n\r\n    try {\r\n      setIsDeleting(true);\r\n      await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(posts.filter((post) => post._id !== postId));\r\n      setTemporarySuccess(\"Post deleted successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error deleting post:\", err);\r\n      setTemporaryMessage(\"Failed to delete post. Please try again.\");\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleAddComment = async (postId, content) => {\r\n    if (isCommenting) return;\r\n\r\n    try {\r\n      setIsCommenting(true);\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments`,\r\n        { content },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n      setTemporarySuccess(\"Comment added successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error adding comment:\", err);\r\n      setTemporaryMessage(\"Failed to add comment. Please try again.\");\r\n    } finally {\r\n      setIsCommenting(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteComment = async (postId, commentId) => {\r\n    try {\r\n      const response = await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments/${commentId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n      setTemporarySuccess(\"Comment deleted successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error deleting comment:\", err);\r\n      setTemporaryMessage(\"Failed to delete comment. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleJoinGroup = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/join`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroup(response.data);\r\n      setTemporarySuccess(\"Successfully joined the group!\");\r\n    } catch (err) {\r\n      console.error(\"Error joining group:\", err);\r\n      setTemporaryMessage(\"Failed to join group. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleLeaveGroup = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/leave`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroup(response.data);\r\n      setTemporarySuccess(\"Successfully left the group!\");\r\n    } catch (err) {\r\n      console.error(\"Error leaving group:\", err);\r\n      setTemporaryMessage(\"Failed to leave group. Please try again.\");\r\n    }\r\n  };\r\n\r\n  if (authLoading || isLoading) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Spinner animation=\"border\" variant=\"primary\" />\r\n        <p className=\"mt-3 text-secondary\">Loading group details...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!group) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Alert variant=\"danger\">\r\n          <Alert.Heading>Group Not Found</Alert.Heading>\r\n          <p>The study group you're looking for doesn't exist.</p>\r\n          <Button variant=\"primary\" onClick={() => navigate(\"/study-groups\")}>\r\n            Back to Study Groups\r\n          </Button>\r\n        </Alert>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isMember =\r\n    user && group.members?.some((member) => member._id === user.id);\r\n  const isCreator = user && group.creator._id === user.id;\r\n\r\n  return (\r\n    <div className=\"animate-fade-in-up\">\r\n      {error && (\r\n        <ConfirmationMessage\r\n          message={error}\r\n          type=\"error\"\r\n          onClose={() => setError(\"\")}\r\n        />\r\n      )}\r\n      {success && (\r\n        <ConfirmationMessage\r\n          message={success}\r\n          type=\"success\"\r\n          onClose={() => setSuccess(\"\")}\r\n        />\r\n      )}\r\n\r\n      {/* Group Header */}\r\n      <Card className=\"mb-4 shadow-sm\">\r\n        <Card.Body className=\"p-4\">\r\n          <Row className=\"align-items-center\">\r\n            <Col md={8}>\r\n              <div className=\"d-flex align-items-center mb-3\">\r\n                <div className=\"me-3\">\r\n                  <i\r\n                    className={`fas ${group.groupImage} fs-2 text-primary bg-light rounded-circle p-3`}\r\n                  ></i>\r\n                </div>\r\n                <div>\r\n                  <h1 className=\"fs-3 fw-bold mb-1\">{group.name}</h1>\r\n                  <div className=\"d-flex align-items-center gap-3\">\r\n                    <Badge bg=\"primary\">{group.category}</Badge>\r\n                    <span className=\"text-muted\">\r\n                      <i className=\"fas fa-users me-1\"></i>\r\n                      {group.members?.length || 0} members\r\n                    </span>\r\n                    <span className=\"text-muted\">\r\n                      Created by {group.creator.username}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-secondary mb-0\">{group.description}</p>\r\n            </Col>\r\n            <Col md={4} className=\"text-end\">\r\n              {user && !isMember && (\r\n                <Button\r\n                  variant=\"primary\"\r\n                  size=\"lg\"\r\n                  onClick={handleJoinGroup}\r\n                  className=\"btn-hover-shadow\"\r\n                >\r\n                  <i className=\"fas fa-plus me-2\"></i>\r\n                  Join Group\r\n                </Button>\r\n              )}\r\n              {user && isMember && !isCreator && (\r\n                <Button\r\n                  variant=\"outline-danger\"\r\n                  size=\"lg\"\r\n                  onClick={handleLeaveGroup}\r\n                >\r\n                  <i className=\"fas fa-sign-out-alt me-2\"></i>\r\n                  Leave Group\r\n                </Button>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n\r\n          {/* Members Section */}\r\n          <Row className=\"mt-4\">\r\n            <Col>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <h5 className=\"fw-semibold text-primary mb-0\">\r\n                  Members ({group.members?.length || 0})\r\n                </h5>\r\n                <Button\r\n                  variant=\"link\"\r\n                  size=\"sm\"\r\n                  onClick={() => setShowMembers(!showMembers)}\r\n                  className=\"text-decoration-none\"\r\n                >\r\n                  {showMembers ? \"Hide\" : \"Show\"} Members\r\n                  <i\r\n                    className={`fas fa-chevron-${\r\n                      showMembers ? \"up\" : \"down\"\r\n                    } ms-1`}\r\n                  ></i>\r\n                </Button>\r\n              </div>\r\n              {showMembers && (\r\n                <div className=\"mt-3\">\r\n                  <Row xs={2} md={3} lg={4} className=\"g-2\">\r\n                    {group.members?.map((member) => (\r\n                      <Col key={member._id}>\r\n                        <div className=\"d-flex align-items-center p-2 bg-light rounded\">\r\n                          <i className=\"fas fa-user-circle me-2 text-secondary\"></i>\r\n                          <span className=\"small\">{member.username}</span>\r\n                          {member._id === group.creator._id && (\r\n                            <Badge bg=\"success\" className=\"ms-auto small\">\r\n                              Creator\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </Col>\r\n                    ))}\r\n                  </Row>\r\n                </div>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Tabs */}\r\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\r\n        <Nav variant=\"tabs\" className=\"mb-4\">\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"discussion\" className=\"px-4\">\r\n              <i className=\"fas fa-comments me-2\"></i>\r\n              Discussion ({posts.length})\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"chat\" className=\"px-4\">\r\n              <i className=\"fas fa-comment-dots me-2\"></i>\r\n              Chat & Events\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n        </Nav>\r\n\r\n        <Tab.Content>\r\n          <Tab.Pane eventKey=\"discussion\">\r\n            {user && isMember && (\r\n              <div className=\"mb-4\">\r\n                <PostForm handleCreatePost={handleCreatePost} />\r\n              </div>\r\n            )}\r\n\r\n            {posts.length === 0 ? (\r\n              <Alert variant=\"info\">\r\n                <i className=\"fas fa-info-circle me-2\"></i>\r\n                No posts yet.{\" \"}\r\n                {isMember && \"Be the first to start a discussion!\"}\r\n              </Alert>\r\n            ) : (\r\n              posts.map((post, index) => (\r\n                <PostCard\r\n                  key={post._id}\r\n                  post={post}\r\n                  currentUser={user}\r\n                  handleLikePost={handleLikePost}\r\n                  handleDeletePost={handleDeletePost}\r\n                  handleAddComment={handleAddComment}\r\n                  handleDeleteComment={handleDeleteComment}\r\n                  isLiking={isLiking}\r\n                  isDeleting={isDeleting}\r\n                  isCommenting={isCommenting}\r\n                  animationDelay={`${index * 0.1}s`}\r\n                />\r\n              ))\r\n            )}\r\n          </Tab.Pane>\r\n\r\n          <Tab.Pane eventKey=\"chat\">\r\n            {user && isMember ? (\r\n              <GroupChat\r\n                group={group}\r\n                user={user}\r\n                setTemporaryMessage={setTemporaryMessage}\r\n                setTemporarySuccess={setTemporarySuccess}\r\n              />\r\n            ) : (\r\n              <Alert variant=\"warning\">\r\n                <i className=\"fas fa-lock me-2\"></i>\r\n                You must be a member to access the group chat and events.\r\n              </Alert>\r\n            )}\r\n          </Tab.Pane>\r\n        </Tab.Content>\r\n      </Tab.Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GroupDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}