{"ast":null,"code":"var _jsxFileName = \"D:\\\\nexused\\\\frontend\\\\src\\\\components\\\\Calendar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport Modal from \"react-modal\";\n\n// Bind modal to app element for accessibility\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nModal.setAppElement(\"#root\");\nconst localizer = momentLocalizer(moment);\nfunction CalendarPage() {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [events, setEvents] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [selectedGroup, setSelectedGroup] = useState(\"\");\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [newEvent, setNewEvent] = useState({\n    name: \"\",\n    description: \"\",\n    startDate: \"\",\n    endDate: \"\",\n    groupId: \"\"\n  });\n  const [error, setError] = useState(\"\");\n\n  // Fetch user's groups\n  useEffect(() => {\n    const fetchGroups = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/study-groups`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const data = await response.json();\n        setGroups(data.filter(group => group.members.some(member => member._id === user.id)));\n      } catch (err) {\n        setError(\"Failed to load groups\");\n      }\n    };\n    fetchGroups();\n  }, [user]);\n\n  // Fetch events\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/events`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const data = await response.json();\n        const formattedEvents = data.map(event => ({\n          id: event._id,\n          title: `${event.name} (${event.group.name})`,\n          start: new Date(event.startDate),\n          end: new Date(event.endDate),\n          groupId: event.group._id,\n          creatorId: event.creator._id,\n          description: event.description\n        }));\n        setEvents(formattedEvents);\n      } catch (err) {\n        setError(\"Failed to load events\");\n      }\n    };\n    fetchEvents();\n  }, []);\n  const filteredEvents = selectedGroup ? events.filter(event => event.groupId === selectedGroup) : events;\n  const handleCreateEvent = async e => {\n    e.preventDefault();\n    try {\n      var _groups$find;\n      const token = localStorage.getItem(\"token\");\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/events`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name: newEvent.name,\n          description: newEvent.description,\n          startDate: newEvent.startDate,\n          endDate: newEvent.endDate,\n          groupId: newEvent.groupId\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || \"Failed to create event\");\n      }\n      const createdEvent = await response.json();\n      setEvents([...events, {\n        id: createdEvent._id,\n        title: `${createdEvent.name} (${(_groups$find = groups.find(g => g._id === createdEvent.group)) === null || _groups$find === void 0 ? void 0 : _groups$find.name})`,\n        start: new Date(createdEvent.startDate),\n        end: new Date(createdEvent.endDate),\n        groupId: createdEvent.group,\n        creatorId: createdEvent.creator,\n        description: createdEvent.description\n      }]);\n      setIsModalOpen(false);\n      setNewEvent({\n        name: \"\",\n        description: \"\",\n        startDate: \"\",\n        endDate: \"\",\n        groupId: \"\"\n      });\n    } catch (err) {\n      setError(err.message || \"Failed to create event\");\n    }\n  };\n  const handleDeleteEvent = async (eventId, creatorId) => {\n    if (creatorId !== user.id) {\n      setError(\"You can only delete events you created\");\n      return;\n    }\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/events/${eventId}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || \"Failed to delete event\");\n      }\n      setEvents(events.filter(event => event.id !== eventId));\n    } catch (err) {\n      setError(err.message || \"Failed to delete event\");\n    }\n  };\n  const eventStyleGetter = event => {\n    const backgroundColor = event.creatorId === user.id ? \"#f59e0b\" : \"#3b82f6\"; // Amber for user's events, Blue for others\n    return {\n      style: {\n        backgroundColor,\n        borderRadius: \"5px\",\n        opacity: 0.8,\n        color: \"white\",\n        border: \"0px\",\n        display: \"block\"\n      }\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 p-6 rounded-xl shadow-xl border border-blue-100 dark:border-gray-600 hover:shadow-2xl dark:hover:shadow-[0_0_15px_rgba(209,213,219,0.3)] hover:-translate-y-2 transition-all duration-300 animate-fade-in-up\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"relative text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-amber-200 dark:to-amber-100 mb-6 hover-underline\",\n      children: \"Calendar & Events\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 dark:bg-red-900/70 text-red-700 dark:text-red-300 p-4 mb-4 rounded-lg border border-gradient-to-r from-red-200 to-red-300 dark:from-red-800 dark:to-red-700 shadow-md hover:shadow-[0_0_10px_rgba(239,68,68,0.5)] dark:hover:shadow-[0_0_10px_rgba(209,213,219,0.5)] transition-all duration-300 animate-fade-in-up\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"group-filter\",\n          className: \"block text-gray-700 dark:text-gray-200 mb-2 font-medium bg-clip-text text-transparent bg-gradient-to-r from-gray-700 to-gray-900 dark:from-gray-400 dark:to-gray-300\",\n          children: \"Filter by Group\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"group-filter\",\n          value: selectedGroup,\n          onChange: e => setSelectedGroup(e.target.value),\n          className: \"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gradient-to-r from-blue-500 to-indigo-500 dark:from-gray-500 dark:to-gray-400 focus:scale-[1.01] transition-all duration-300 text-gray-800 dark:text-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Groups\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), groups.map(group => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: group._id,\n            children: group.name\n          }, group._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsModalOpen(true),\n        className: \"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-cyan-600 dark:to-teal-600 text-white dark:text-gray-200 px-5 py-3 rounded-lg hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(21,94,117,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 flex items-center space-x-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-plus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Add Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-[600px]\",\n      children: /*#__PURE__*/_jsxDEV(Calendar, {\n        localizer: localizer,\n        events: filteredEvents,\n        startAccessor: \"start\",\n        endAccessor: \"end\",\n        style: {\n          height: \"100%\"\n        },\n        eventPropGetter: eventStyleGetter,\n        onSelectEvent: event => {\n          if (event.creatorId === user.id) {\n            if (window.confirm(`Do you want to delete this event: ${event.title}?`)) {\n              handleDeleteEvent(event.id, event.creatorId);\n            }\n          } else {\n            alert(`Event: ${event.title}\\nDescription: ${event.description || \"No description\"}`);\n          }\n        },\n        views: [\"month\", \"week\", \"day\"],\n        defaultView: \"month\",\n        className: \"bg-white dark:bg-gray-700 rounded-lg p-4 shadow-md\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onRequestClose: () => setIsModalOpen(false),\n      className: \"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl max-w-lg mx-auto mt-20\",\n      overlayClassName: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-amber-200 dark:to-amber-100 mb-4\",\n        children: \"Create New Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreateEvent,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"event-name\",\n            className: \"block text-gray-700 dark:text-gray-200 mb-2 font-medium\",\n            children: \"Event Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"event-name\",\n            value: newEvent.name,\n            onChange: e => setNewEvent({\n              ...newEvent,\n              name: e.target.value\n            }),\n            className: \"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 text-gray-800 dark:text-gray-200\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"event-description\",\n            className: \"block text-gray-700 dark:text-gray-200 mb-2 font-medium\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"event-description\",\n            value: newEvent.description,\n            onChange: e => setNewEvent({\n              ...newEvent,\n              description: e.target.value\n            }),\n            className: \"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 text-gray-800 dark:text-gray-200\",\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"event-start\",\n            className: \"block text-gray-700 dark:text-gray-200 mb-2 font-medium\",\n            children: \"Start Date & Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            id: \"event-start\",\n            value: newEvent.startDate,\n            onChange: e => setNewEvent({\n              ...newEvent,\n              startDate: e.target.value\n            }),\n            className: \"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 text-gray-800 dark:text-gray-200\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"event-end\",\n            className: \"block text-gray-700 dark:text-gray-200 mb-2 font-medium\",\n            children: \"End Date & Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"datetime-local\",\n            id: \"event-end\",\n            value: newEvent.endDate,\n            onChange: e => setNewEvent({\n              ...newEvent,\n              endDate: e.target.value\n            }),\n            className: \"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 text-gray-800 dark:text-gray-200\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"event-group\",\n            className: \"block text-gray-700 dark:text-gray-200 mb-2 font-medium\",\n            children: \"Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"event-group\",\n            value: newEvent.groupId,\n            onChange: e => setNewEvent({\n              ...newEvent,\n              groupId: e.target.value\n            }),\n            className: \"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 text-gray-800 dark:text-gray-200\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), groups.map(group => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: group._id,\n              children: group.name\n            }, group._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-cyan-600 dark:to-teal-600 text-white dark:text-gray-200 px-5 py-3 rounded-lg hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(21,94,117,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800\",\n            children: \"Create Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setIsModalOpen(false),\n            className: \"bg-gradient-to-r from-gray-500 to-gray-600 dark:from-gray-600 dark:to-gray-500 text-white dark:text-gray-200 px-5 py-3 rounded-lg hover:shadow-[0_0_10px_rgba(107,114,128,0.5)] dark:hover:shadow-[0_0_10px_rgba(209,213,219,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n}\n_s(CalendarPage, \"X8Ns4aZ++A1f8abCuEcZ9YxRDlU=\");\n_c = CalendarPage;\nexport default CalendarPage;\nvar _c;\n$RefreshReg$(_c, \"CalendarPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Calendar","momentLocalizer","moment","AuthContext","Modal","jsxDEV","_jsxDEV","setAppElement","localizer","CalendarPage","_s","user","events","setEvents","groups","setGroups","selectedGroup","setSelectedGroup","isModalOpen","setIsModalOpen","newEvent","setNewEvent","name","description","startDate","endDate","groupId","error","setError","fetchGroups","token","localStorage","getItem","response","fetch","process","env","REACT_APP_API_URL","headers","Authorization","data","json","filter","group","members","some","member","_id","id","err","fetchEvents","formattedEvents","map","event","title","start","Date","end","creatorId","creator","filteredEvents","handleCreateEvent","e","preventDefault","_groups$find","method","body","JSON","stringify","ok","errorData","Error","message","createdEvent","find","g","handleDeleteEvent","eventId","eventStyleGetter","backgroundColor","style","borderRadius","opacity","color","border","display","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","value","onChange","target","onClick","startAccessor","endAccessor","height","eventPropGetter","onSelectEvent","window","confirm","alert","views","defaultView","isOpen","onRequestClose","overlayClassName","onSubmit","type","required","rows","_c","$RefreshReg$"],"sources":["D:/nexused/frontend/src/components/Calendar.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport moment from \"moment\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport Modal from \"react-modal\";\r\n\r\n// Bind modal to app element for accessibility\r\nModal.setAppElement(\"#root\");\r\n\r\nconst localizer = momentLocalizer(moment);\r\n\r\nfunction CalendarPage() {\r\n  const { user } = useContext(AuthContext);\r\n  const [events, setEvents] = useState([]);\r\n  const [groups, setGroups] = useState([]);\r\n  const [selectedGroup, setSelectedGroup] = useState(\"\");\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [newEvent, setNewEvent] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\",\r\n    groupId: \"\",\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // Fetch user's groups\r\n  useEffect(() => {\r\n    const fetchGroups = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const response = await fetch(\r\n          `${process.env.REACT_APP_API_URL}/api/study-groups`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n        const data = await response.json();\r\n        setGroups(\r\n          data.filter((group) =>\r\n            group.members.some((member) => member._id === user.id)\r\n          )\r\n        );\r\n      } catch (err) {\r\n        setError(\"Failed to load groups\");\r\n      }\r\n    };\r\n    fetchGroups();\r\n  }, [user]);\r\n\r\n  // Fetch events\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const response = await fetch(\r\n          `${process.env.REACT_APP_API_URL}/api/events`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n        const data = await response.json();\r\n        const formattedEvents = data.map((event) => ({\r\n          id: event._id,\r\n          title: `${event.name} (${event.group.name})`,\r\n          start: new Date(event.startDate),\r\n          end: new Date(event.endDate),\r\n          groupId: event.group._id,\r\n          creatorId: event.creator._id,\r\n          description: event.description,\r\n        }));\r\n        setEvents(formattedEvents);\r\n      } catch (err) {\r\n        setError(\"Failed to load events\");\r\n      }\r\n    };\r\n    fetchEvents();\r\n  }, []);\r\n\r\n  const filteredEvents = selectedGroup\r\n    ? events.filter((event) => event.groupId === selectedGroup)\r\n    : events;\r\n\r\n  const handleCreateEvent = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const response = await fetch(\r\n        `${process.env.REACT_APP_API_URL}/api/events`,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify({\r\n            name: newEvent.name,\r\n            description: newEvent.description,\r\n            startDate: newEvent.startDate,\r\n            endDate: newEvent.endDate,\r\n            groupId: newEvent.groupId,\r\n          }),\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || \"Failed to create event\");\r\n      }\r\n\r\n      const createdEvent = await response.json();\r\n      setEvents([\r\n        ...events,\r\n        {\r\n          id: createdEvent._id,\r\n          title: `${createdEvent.name} (${\r\n            groups.find((g) => g._id === createdEvent.group)?.name\r\n          })`,\r\n          start: new Date(createdEvent.startDate),\r\n          end: new Date(createdEvent.endDate),\r\n          groupId: createdEvent.group,\r\n          creatorId: createdEvent.creator,\r\n          description: createdEvent.description,\r\n        },\r\n      ]);\r\n      setIsModalOpen(false);\r\n      setNewEvent({\r\n        name: \"\",\r\n        description: \"\",\r\n        startDate: \"\",\r\n        endDate: \"\",\r\n        groupId: \"\",\r\n      });\r\n    } catch (err) {\r\n      setError(err.message || \"Failed to create event\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteEvent = async (eventId, creatorId) => {\r\n    if (creatorId !== user.id) {\r\n      setError(\"You can only delete events you created\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const response = await fetch(\r\n        `${process.env.REACT_APP_API_URL}/api/events/${eventId}`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || \"Failed to delete event\");\r\n      }\r\n\r\n      setEvents(events.filter((event) => event.id !== eventId));\r\n    } catch (err) {\r\n      setError(err.message || \"Failed to delete event\");\r\n    }\r\n  };\r\n\r\n  const eventStyleGetter = (event) => {\r\n    const backgroundColor = event.creatorId === user.id ? \"#f59e0b\" : \"#3b82f6\"; // Amber for user's events, Blue for others\r\n    return {\r\n      style: {\r\n        backgroundColor,\r\n        borderRadius: \"5px\",\r\n        opacity: 0.8,\r\n        color: \"white\",\r\n        border: \"0px\",\r\n        display: \"block\",\r\n      },\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 p-6 rounded-xl shadow-xl border border-blue-100 dark:border-gray-600 hover:shadow-2xl dark:hover:shadow-[0_0_15px_rgba(209,213,219,0.3)] hover:-translate-y-2 transition-all duration-300 animate-fade-in-up\">\r\n      <h1 className=\"relative text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-amber-200 dark:to-amber-100 mb-6 hover-underline\">\r\n        Calendar & Events\r\n      </h1>\r\n\r\n      {error && (\r\n        <div className=\"bg-red-100 dark:bg-red-900/70 text-red-700 dark:text-red-300 p-4 mb-4 rounded-lg border border-gradient-to-r from-red-200 to-red-300 dark:from-red-800 dark:to-red-700 shadow-md hover:shadow-[0_0_10px_rgba(239,68,68,0.5)] dark:hover:shadow-[0_0_10px_rgba(209,213,219,0.5)] transition-all duration-300 animate-fade-in-up\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"flex justify-between mb-4\">\r\n        <div className=\"w-1/3\">\r\n          <label\r\n            htmlFor=\"group-filter\"\r\n            className=\"block text-gray-700 dark:text-gray-200 mb-2 font-medium bg-clip-text text-transparent bg-gradient-to-r from-gray-700 to-gray-900 dark:from-gray-400 dark:to-gray-300\"\r\n          >\r\n            Filter by Group\r\n          </label>\r\n          <select\r\n            id=\"group-filter\"\r\n            value={selectedGroup}\r\n            onChange={(e) => setSelectedGroup(e.target.value)}\r\n            className=\"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gradient-to-r from-blue-500 to-indigo-500 dark:from-gray-500 dark:to-gray-400 focus:scale-[1.01] transition-all duration-300 text-gray-800 dark:text-gray-200\"\r\n          >\r\n            <option value=\"\">All Groups</option>\r\n            {groups.map((group) => (\r\n              <option key={group._id} value={group._id}>\r\n                {group.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <button\r\n          onClick={() => setIsModalOpen(true)}\r\n          className=\"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-cyan-600 dark:to-teal-600 text-white dark:text-gray-200 px-5 py-3 rounded-lg hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(21,94,117,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 flex items-center space-x-1\"\r\n        >\r\n          <i className=\"fa-solid fa-plus\"></i>\r\n          <span>Add Event</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"h-[600px]\">\r\n        <Calendar\r\n          localizer={localizer}\r\n          events={filteredEvents}\r\n          startAccessor=\"start\"\r\n          endAccessor=\"end\"\r\n          style={{ height: \"100%\" }}\r\n          eventPropGetter={eventStyleGetter}\r\n          onSelectEvent={(event) => {\r\n            if (event.creatorId === user.id) {\r\n              if (\r\n                window.confirm(\r\n                  `Do you want to delete this event: ${event.title}?`\r\n                )\r\n              ) {\r\n                handleDeleteEvent(event.id, event.creatorId);\r\n              }\r\n            } else {\r\n              alert(\r\n                `Event: ${event.title}\\nDescription: ${\r\n                  event.description || \"No description\"\r\n                }`\r\n              );\r\n            }\r\n          }}\r\n          views={[\"month\", \"week\", \"day\"]}\r\n          defaultView=\"month\"\r\n          className=\"bg-white dark:bg-gray-700 rounded-lg p-4 shadow-md\"\r\n        />\r\n      </div>\r\n\r\n      {/* Modal for creating a new event */}\r\n      <Modal\r\n        isOpen={isModalOpen}\r\n        onRequestClose={() => setIsModalOpen(false)}\r\n        className=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl max-w-lg mx-auto mt-20\"\r\n        overlayClassName=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\"\r\n      >\r\n        <h2 className=\"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-amber-200 dark:to-amber-100 mb-4\">\r\n          Create New Event\r\n        </h2>\r\n        <form onSubmit={handleCreateEvent}>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"event-name\"\r\n              className=\"block text-gray-700 dark:text-gray-200 mb-2 font-medium\"\r\n            >\r\n              Event Name\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"event-name\"\r\n              value={newEvent.name}\r\n              onChange={(e) =>\r\n                setNewEvent({ ...newEvent, name: e.target.value })\r\n              }\r\n              className=\"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 text-gray-800 dark:text-gray-200\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"event-description\"\r\n              className=\"block text-gray-700 dark:text-gray-200 mb-2 font-medium\"\r\n            >\r\n              Description\r\n            </label>\r\n            <textarea\r\n              id=\"event-description\"\r\n              value={newEvent.description}\r\n              onChange={(e) =>\r\n                setNewEvent({ ...newEvent, description: e.target.value })\r\n              }\r\n              className=\"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 text-gray-800 dark:text-gray-200\"\r\n              rows=\"3\"\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"event-start\"\r\n              className=\"block text-gray-700 dark:text-gray-200 mb-2 font-medium\"\r\n            >\r\n              Start Date & Time\r\n            </label>\r\n            <input\r\n              type=\"datetime-local\"\r\n              id=\"event-start\"\r\n              value={newEvent.startDate}\r\n              onChange={(e) =>\r\n                setNewEvent({ ...newEvent, startDate: e.target.value })\r\n              }\r\n              className=\"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 text-gray-800 dark:text-gray-200\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"event-end\"\r\n              className=\"block text-gray-700 dark:text-gray-200 mb-2 font-medium\"\r\n            >\r\n              End Date & Time\r\n            </label>\r\n            <input\r\n              type=\"datetime-local\"\r\n              id=\"event-end\"\r\n              value={newEvent.endDate}\r\n              onChange={(e) =>\r\n                setNewEvent({ ...newEvent, endDate: e.target.value })\r\n              }\r\n              className=\"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 text-gray-800 dark:text-gray-200\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-4\">\r\n            <label\r\n              htmlFor=\"event-group\"\r\n              className=\"block text-gray-700 dark:text-gray-200 mb-2 font-medium\"\r\n            >\r\n              Group\r\n            </label>\r\n            <select\r\n              id=\"event-group\"\r\n              value={newEvent.groupId}\r\n              onChange={(e) =>\r\n                setNewEvent({ ...newEvent, groupId: e.target.value })\r\n              }\r\n              className=\"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 text-gray-800 dark:text-gray-200\"\r\n              required\r\n            >\r\n              <option value=\"\">Select a group</option>\r\n              {groups.map((group) => (\r\n                <option key={group._id} value={group._id}>\r\n                  {group.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"flex space-x-3\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-cyan-600 dark:to-teal-600 text-white dark:text-gray-200 px-5 py-3 rounded-lg hover:shadow-[0_0_10px_rgba(59,130,246,0.5)] dark:hover:shadow-[0_0_10px_rgba(21,94,117,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800\"\r\n            >\r\n              Create Event\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setIsModalOpen(false)}\r\n              className=\"bg-gradient-to-r from-gray-500 to-gray-600 dark:from-gray-600 dark:to-gray-500 text-white dark:text-gray-200 px-5 py-3 rounded-lg hover:shadow-[0_0_10px_rgba(107,114,128,0.5)] dark:hover:shadow-[0_0_10px_rgba(209,213,219,0.5)] dark:hover:dark-glow hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CalendarPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}