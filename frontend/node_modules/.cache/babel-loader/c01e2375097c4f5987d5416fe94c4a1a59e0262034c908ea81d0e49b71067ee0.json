{"ast":null,"code":"import _objectSpread from\"/mnt/d/Projects/NexusEd/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useContext,useRef}from\"react\";import{AuthContext}from\"../context/AuthContext\";import{Row,Col,Card,Button,ButtonGroup,Spinner,Modal,InputGroup,FormControl}from\"react-bootstrap\";import axios from\"axios\";import GroupForm from\"./GroupForm\";import GroupCard from\"./GroupCard\";import ConfirmationMessage from\"./ConfirmationMessage\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function StudyGroups(){const{user,isLoading:authLoading}=useContext(AuthContext);const[groups,setGroups]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");const[newGroup,setNewGroup]=useState({name:\"\",description:\"\",category:\"\",groupImage:\"fa-users\"});const[editGroup,setEditGroup]=useState(null);const[selectedCategory,setSelectedCategory]=useState(\"All\");const[visibleMembers,setVisibleMembers]=useState({});const[confirmation,setConfirmation]=useState(null);const[deleteConfirmation,setDeleteConfirmation]=useState(null);const[showCreateModal,setShowCreateModal]=useState(false);const[searchTerm,setSearchTerm]=useState(\"\");const timeoutRef=useRef(null);const confirmationTimeoutRef=useRef(null);const confirmationMessageRef=useRef(null);const editFormRef=useRef(null);const categories=[\"Mathematics\",\"Programming\",\"Literature\",\"Science\",\"History\"];const groupIcons=[{value:\"fa-users\",label:\"Users (Default)\",icon:\"fa-users\"},{value:\"fa-book\",label:\"Book\",icon:\"fa-book\"},{value:\"fa-code\",label:\"Code\",icon:\"fa-code\"},{value:\"fa-flask\",label:\"Flask (Science)\",icon:\"fa-flask\"},{value:\"fa-history\",label:\"History\",icon:\"fa-history\"},{value:\"fa-calculator\",label:\"Calculator (Math)\",icon:\"fa-calculator\"}];const setTemporaryMessage=(type,message)=>{if(timeoutRef.current){clearTimeout(timeoutRef.current);}if(type===\"error\"){setError(message);setSuccess(\"\");}else{setSuccess(message);setError(\"\");}timeoutRef.current=setTimeout(()=>{setError(\"\");setSuccess(\"\");timeoutRef.current=null;},1500);// Reduced to 1.5 seconds\n};const clearConfirmation=()=>{if(confirmationTimeoutRef.current){clearTimeout(confirmationTimeoutRef.current);}setConfirmation(null);confirmationTimeoutRef.current=null;};useEffect(()=>{const fetchGroups=async()=>{try{setIsLoading(true);const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/study-groups\"));setGroups(response.data);}catch(err){console.error(\"Error fetching study groups:\",err);setTemporaryMessage(\"error\",\"Failed to load study groups.\");}finally{setIsLoading(false);}};fetchGroups();},[]);const handleCreateGroup=async e=>{e.preventDefault();if(!user){setTemporaryMessage(\"error\",\"Please log in to create a group.\");return;}try{setIsLoading(true);const response=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/study-groups\"),newGroup,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setGroups([response.data,...groups]);setNewGroup({name:\"\",description:\"\",category:\"\",groupImage:\"fa-users\"});setShowCreateModal(false);setTemporaryMessage(\"success\",\"Study group created successfully!\");}catch(err){console.error(\"Error creating study group:\",err);setTemporaryMessage(\"error\",\"Failed to create study group.\");}finally{setIsLoading(false);}};const handleUpdateGroup=async e=>{e.preventDefault();if(!user||!editGroup)return;try{setIsLoading(true);const response=await axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/study-groups/\").concat(editGroup._id),editGroup,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setGroups(groups.map(group=>group._id===editGroup._id?response.data:group));setEditGroup(null);setTemporaryMessage(\"success\",\"Study group updated successfully!\");}catch(err){console.error(\"Error updating study group:\",err);setTemporaryMessage(\"error\",\"Failed to update study group.\");}finally{setIsLoading(false);}};const handleJoinGroup=async groupId=>{if(!user){setTemporaryMessage(\"error\",\"Please log in to join a group.\");return;}try{const response=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/study-groups/\").concat(groupId,\"/join\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setGroups(groups.map(group=>group._id===groupId?response.data:group));setTemporaryMessage(\"success\",\"Successfully joined the group!\");}catch(err){console.error(\"Error joining group:\",err);setTemporaryMessage(\"error\",\"Failed to join group.\");}};const handleLeaveGroup=async groupId=>{if(!user)return;try{const response=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/study-groups/\").concat(groupId,\"/leave\"),{},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setGroups(groups.map(group=>group._id===groupId?response.data:group));setTemporaryMessage(\"success\",\"Successfully left the group!\");}catch(err){console.error(\"Error leaving group:\",err);setTemporaryMessage(\"error\",\"Failed to leave group.\");}};const handleDeleteConfirmation=groupId=>{setDeleteConfirmation(groupId);};const handleDeleteGroup=async groupId=>{if(!user)return;try{await axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/study-groups/\").concat(groupId),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setGroups(groups.filter(group=>group._id!==groupId));setDeleteConfirmation(null);setTemporaryMessage(\"success\",\"Study group deleted successfully!\");}catch(err){console.error(\"Error deleting study group:\",err);setTemporaryMessage(\"error\",\"Failed to delete study group.\");}};const cancelDeleteGroup=()=>{setDeleteConfirmation(null);};const handleEditGroup=group=>{setEditGroup(_objectSpread({},group));};const cancelEditGroup=()=>{setEditGroup(null);};const toggleMembersVisibility=groupId=>{setVisibleMembers(prev=>_objectSpread(_objectSpread({},prev),{},{[groupId]:!prev[groupId]}));};// Filter groups by category and search term\nconst filteredGroups=groups.filter(group=>selectedCategory===\"All\"||group.category===selectedCategory).filter(group=>searchTerm===\"\"||group.name.toLowerCase().includes(searchTerm.toLowerCase())||group.description.toLowerCase().includes(searchTerm.toLowerCase()));if(authLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 text-secondary\",children:\"Loading...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"study-groups-container animate-fade-in-up\",children:[error&&/*#__PURE__*/_jsx(ConfirmationMessage,{message:error,type:\"error\",onClose:()=>setError(\"\")}),success&&/*#__PURE__*/_jsx(ConfirmationMessage,{message:success,type:\"success\",onClose:()=>setSuccess(\"\")}),confirmation&&/*#__PURE__*/_jsx(ConfirmationMessage,{message:confirmation,type:\"success\",onClose:clearConfirmation,ref:confirmationMessageRef}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"study-groups-title mb-3 mb-md-0\",children:\"Study Groups\"}),user&&/*#__PURE__*/_jsxs(Button,{variant:\"primary\",className:\"create-group-btn\",onClick:()=>setShowCreateModal(true),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus me-2\"}),\"Create New Group\"]})]}),/*#__PURE__*/_jsx(Card,{className:\"shadow mb-4\",children:/*#__PURE__*/_jsx(Card.Body,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column flex-lg-row align-items-start align-items-lg-center justify-content-between gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-container flex-grow-1\",children:/*#__PURE__*/_jsxs(InputGroup,{className:\"search-input\",style:{maxWidth:\"400px\"},children:[/*#__PURE__*/_jsx(InputGroup.Text,{className:\"bg-light border-end-0\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search text-muted\"})}),/*#__PURE__*/_jsx(FormControl,{placeholder:\"Search groups by name or description...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),\"aria-label\":\"Search groups\",className:\"border-start-0 ps-0\",style:{boxShadow:\"none\"}}),searchTerm&&/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:()=>setSearchTerm(\"\"),\"aria-label\":\"Clear search\",className:\"border-start-0\",style:{borderColor:\"#ced4da\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-buttons\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column flex-md-row align-items-start align-items-md-center gap-2\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"filter-label mb-2 mb-md-0 me-0 me-md-2 text-muted\",children:\"Filter by:\"}),/*#__PURE__*/_jsxs(ButtonGroup,{className:\"category-filter\",children:[/*#__PURE__*/_jsx(Button,{variant:selectedCategory===\"All\"?\"primary\":\"outline-primary\",onClick:()=>setSelectedCategory(\"All\"),className:\"category-btn\",children:\"All\"}),categories.map(category=>/*#__PURE__*/_jsx(Button,{variant:selectedCategory===category?\"primary\":\"outline-primary\",onClick:()=>setSelectedCategory(category),className:\"category-btn\",children:category},category))]})]})})]})})}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loader-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loader-content\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\",size:\"lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-text\",children:\"Loading study groups...\"})]})}):filteredGroups.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users display-1 text-muted\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"No Study Groups Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-4\",children:searchTerm?\"No results match your search criteria. Try different keywords or clear the search.\":selectedCategory!==\"All\"?\"No \".concat(selectedCategory,\" groups available yet.\"):user?\"Create a new study group to get started!\":\"Join NexusEd to create and participate in study groups.\"}),user&&/*#__PURE__*/_jsxs(Button,{variant:\"primary\",className:\"btn-hover-shadow\",onClick:()=>setShowCreateModal(true),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus me-2\"}),\"Create New Group\"]}),!user&&/*#__PURE__*/_jsxs(Button,{variant:\"primary\",className:\"btn-hover-shadow\",href:\"/login\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-in-alt me-2\"}),\"Login to Join\"]})]}):/*#__PURE__*/_jsx(Row,{xs:1,md:2,lg:3,className:\"g-4\",children:filteredGroups.map((group,index)=>/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(GroupCard,{group:group,user:user,visibleMembers:visibleMembers,toggleMembersVisibility:toggleMembersVisibility,handleEditGroup:handleEditGroup,handleDeleteConfirmation:handleDeleteConfirmation,handleJoinGroup:handleJoinGroup,handleLeaveGroup:handleLeaveGroup,deleteConfirmation:deleteConfirmation,handleDeleteGroup:handleDeleteGroup,cancelDeleteGroup:cancelDeleteGroup,animationDelay:\"\".concat(index*0.1,\"s\")})},group._id))}),/*#__PURE__*/_jsxs(Modal,{show:showCreateModal,onHide:()=>setShowCreateModal(false),size:\"lg\",centered:true,className:\"group-modal\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-circle text-primary me-2\"}),\"Create Study Group\"]})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(GroupForm,{group:newGroup,setGroup:setNewGroup,categories:categories,groupIcons:groupIcons,handleSubmit:handleCreateGroup,handleCancel:()=>setShowCreateModal(false),isLoading:isLoading,buttonText:\"Create Group\"})})]}),/*#__PURE__*/_jsxs(Modal,{show:!!editGroup,onHide:cancelEditGroup,size:\"lg\",centered:true,className:\"group-modal\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit text-primary me-2\"}),\"Edit Study Group\"]})}),/*#__PURE__*/_jsx(Modal.Body,{children:editGroup&&/*#__PURE__*/_jsx(GroupForm,{group:editGroup,setGroup:setEditGroup,categories:categories,groupIcons:groupIcons,handleSubmit:handleUpdateGroup,handleCancel:cancelEditGroup,isLoading:isLoading,buttonText:\"Update Group\",ref:editFormRef})})]})]});}export default StudyGroups;","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","AuthContext","Row","Col","Card","Button","ButtonGroup","Spinner","Modal","InputGroup","FormControl","axios","GroupForm","GroupCard","ConfirmationMessage","jsx","_jsx","jsxs","_jsxs","StudyGroups","user","isLoading","authLoading","groups","setGroups","setIsLoading","error","setError","success","setSuccess","newGroup","setNewGroup","name","description","category","groupImage","editGroup","setEditGroup","selectedCategory","setSelectedCategory","visibleMembers","setVisibleMembers","confirmation","setConfirmation","deleteConfirmation","setDeleteConfirmation","showCreateModal","setShowCreateModal","searchTerm","setSearchTerm","timeoutRef","confirmationTimeoutRef","confirmationMessageRef","editFormRef","categories","groupIcons","value","label","icon","setTemporaryMessage","type","message","current","clearTimeout","setTimeout","clearConfirmation","fetchGroups","response","get","concat","process","env","REACT_APP_API_URL","data","err","console","handleCreateGroup","e","preventDefault","post","headers","Authorization","localStorage","getItem","handleUpdateGroup","put","_id","map","group","handleJoinGroup","groupId","handleLeaveGroup","handleDeleteConfirmation","handleDeleteGroup","delete","filter","cancelDeleteGroup","handleEditGroup","_objectSpread","cancelEditGroup","toggleMembersVisibility","prev","filteredGroups","toLowerCase","includes","className","children","animation","variant","onClose","ref","onClick","Body","style","maxWidth","Text","placeholder","onChange","target","boxShadow","borderColor","size","length","href","xs","md","lg","index","animationDelay","show","onHide","centered","Header","closeButton","Title","setGroup","handleSubmit","handleCancel","buttonText"],"sources":["/mnt/d/Projects/NexusEd/frontend/src/components/StudyGroups.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  ButtonGroup,\r\n  Spinner,\r\n  Modal,\r\n  InputGroup,\r\n  FormControl,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport GroupForm from \"./GroupForm\";\r\nimport GroupCard from \"./GroupCard\";\r\nimport ConfirmationMessage from \"./ConfirmationMessage\";\r\n\r\nfunction StudyGroups() {\r\n  const { user, isLoading: authLoading } = useContext(AuthContext);\r\n  const [groups, setGroups] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [newGroup, setNewGroup] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    category: \"\",\r\n    groupImage: \"fa-users\",\r\n  });\r\n  const [editGroup, setEditGroup] = useState(null);\r\n  const [selectedCategory, setSelectedCategory] = useState(\"All\");\r\n  const [visibleMembers, setVisibleMembers] = useState({});\r\n  const [confirmation, setConfirmation] = useState(null);\r\n  const [deleteConfirmation, setDeleteConfirmation] = useState(null);\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const timeoutRef = useRef(null);\r\n  const confirmationTimeoutRef = useRef(null);\r\n  const confirmationMessageRef = useRef(null);\r\n  const editFormRef = useRef(null);\r\n\r\n  const categories = [\r\n    \"Mathematics\",\r\n    \"Programming\",\r\n    \"Literature\",\r\n    \"Science\",\r\n    \"History\",\r\n  ];\r\n\r\n  const groupIcons = [\r\n    { value: \"fa-users\", label: \"Users (Default)\", icon: \"fa-users\" },\r\n    { value: \"fa-book\", label: \"Book\", icon: \"fa-book\" },\r\n    { value: \"fa-code\", label: \"Code\", icon: \"fa-code\" },\r\n    { value: \"fa-flask\", label: \"Flask (Science)\", icon: \"fa-flask\" },\r\n    { value: \"fa-history\", label: \"History\", icon: \"fa-history\" },\r\n    {\r\n      value: \"fa-calculator\",\r\n      label: \"Calculator (Math)\",\r\n      icon: \"fa-calculator\",\r\n    },\r\n  ];\r\n\r\n  const setTemporaryMessage = (type, message) => {\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n    if (type === \"error\") {\r\n      setError(message);\r\n      setSuccess(\"\");\r\n    } else {\r\n      setSuccess(message);\r\n      setError(\"\");\r\n    }\r\n    timeoutRef.current = setTimeout(() => {\r\n      setError(\"\");\r\n      setSuccess(\"\");\r\n      timeoutRef.current = null;\r\n    }, 1500); // Reduced to 1.5 seconds\r\n  };\r\n\r\n  const clearConfirmation = () => {\r\n    if (confirmationTimeoutRef.current) {\r\n      clearTimeout(confirmationTimeoutRef.current);\r\n    }\r\n    setConfirmation(null);\r\n    confirmationTimeoutRef.current = null;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchGroups = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await axios.get(\r\n          `${process.env.REACT_APP_API_URL}/api/study-groups`\r\n        );\r\n        setGroups(response.data);\r\n      } catch (err) {\r\n        console.error(\"Error fetching study groups:\", err);\r\n        setTemporaryMessage(\"error\", \"Failed to load study groups.\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchGroups();\r\n  }, []);\r\n\r\n  const handleCreateGroup = async (e) => {\r\n    e.preventDefault();\r\n    if (!user) {\r\n      setTemporaryMessage(\"error\", \"Please log in to create a group.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups`,\r\n        newGroup,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroups([response.data, ...groups]);\r\n      setNewGroup({\r\n        name: \"\",\r\n        description: \"\",\r\n        category: \"\",\r\n        groupImage: \"fa-users\",\r\n      });\r\n      setShowCreateModal(false);\r\n      setTemporaryMessage(\"success\", \"Study group created successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error creating study group:\", err);\r\n      setTemporaryMessage(\"error\", \"Failed to create study group.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdateGroup = async (e) => {\r\n    e.preventDefault();\r\n    if (!user || !editGroup) return;\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await axios.put(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${editGroup._id}`,\r\n        editGroup,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroups(\r\n        groups.map((group) =>\r\n          group._id === editGroup._id ? response.data : group\r\n        )\r\n      );\r\n      setEditGroup(null);\r\n      setTemporaryMessage(\"success\", \"Study group updated successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error updating study group:\", err);\r\n      setTemporaryMessage(\"error\", \"Failed to update study group.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleJoinGroup = async (groupId) => {\r\n    if (!user) {\r\n      setTemporaryMessage(\"error\", \"Please log in to join a group.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/join`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroups(\r\n        groups.map((group) => (group._id === groupId ? response.data : group))\r\n      );\r\n      setTemporaryMessage(\"success\", \"Successfully joined the group!\");\r\n    } catch (err) {\r\n      console.error(\"Error joining group:\", err);\r\n      setTemporaryMessage(\"error\", \"Failed to join group.\");\r\n    }\r\n  };\r\n\r\n  const handleLeaveGroup = async (groupId) => {\r\n    if (!user) return;\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/leave`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroups(\r\n        groups.map((group) => (group._id === groupId ? response.data : group))\r\n      );\r\n      setTemporaryMessage(\"success\", \"Successfully left the group!\");\r\n    } catch (err) {\r\n      console.error(\"Error leaving group:\", err);\r\n      setTemporaryMessage(\"error\", \"Failed to leave group.\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteConfirmation = (groupId) => {\r\n    setDeleteConfirmation(groupId);\r\n  };\r\n\r\n  const handleDeleteGroup = async (groupId) => {\r\n    if (!user) return;\r\n\r\n    try {\r\n      await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroups(groups.filter((group) => group._id !== groupId));\r\n      setDeleteConfirmation(null);\r\n      setTemporaryMessage(\"success\", \"Study group deleted successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error deleting study group:\", err);\r\n      setTemporaryMessage(\"error\", \"Failed to delete study group.\");\r\n    }\r\n  };\r\n\r\n  const cancelDeleteGroup = () => {\r\n    setDeleteConfirmation(null);\r\n  };\r\n\r\n  const handleEditGroup = (group) => {\r\n    setEditGroup({ ...group });\r\n  };\r\n\r\n  const cancelEditGroup = () => {\r\n    setEditGroup(null);\r\n  };\r\n\r\n  const toggleMembersVisibility = (groupId) => {\r\n    setVisibleMembers((prev) => ({\r\n      ...prev,\r\n      [groupId]: !prev[groupId],\r\n    }));\r\n  };\r\n\r\n  // Filter groups by category and search term\r\n  const filteredGroups = groups\r\n    .filter(\r\n      (group) =>\r\n        selectedCategory === \"All\" || group.category === selectedCategory\r\n    )\r\n    .filter(\r\n      (group) =>\r\n        searchTerm === \"\" ||\r\n        group.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        group.description.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n  if (authLoading) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Spinner animation=\"border\" variant=\"primary\" />\r\n        <p className=\"mt-3 text-secondary\">Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"study-groups-container animate-fade-in-up\">\r\n      {error && (\r\n        <ConfirmationMessage\r\n          message={error}\r\n          type=\"error\"\r\n          onClose={() => setError(\"\")}\r\n        />\r\n      )}\r\n      {success && (\r\n        <ConfirmationMessage\r\n          message={success}\r\n          type=\"success\"\r\n          onClose={() => setSuccess(\"\")}\r\n        />\r\n      )}\r\n      {confirmation && (\r\n        <ConfirmationMessage\r\n          message={confirmation}\r\n          type=\"success\"\r\n          onClose={clearConfirmation}\r\n          ref={confirmationMessageRef}\r\n        />\r\n      )}\r\n\r\n      <div className=\"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4\">\r\n        <h1 className=\"study-groups-title mb-3 mb-md-0\">Study Groups</h1>\r\n\r\n        {user && (\r\n          <Button\r\n            variant=\"primary\"\r\n            className=\"create-group-btn\"\r\n            onClick={() => setShowCreateModal(true)}\r\n          >\r\n            <i className=\"fas fa-plus me-2\"></i>\r\n            Create New Group\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      <Card className=\"shadow mb-4\">\r\n        <Card.Body className=\"p-4\">\r\n          <div className=\"d-flex flex-column flex-lg-row align-items-start align-items-lg-center justify-content-between gap-3\">\r\n            <div className=\"search-container flex-grow-1\">\r\n              <InputGroup className=\"search-input\" style={{ maxWidth: \"400px\" }}>\r\n                <InputGroup.Text className=\"bg-light border-end-0\">\r\n                  <i className=\"fas fa-search text-muted\"></i>\r\n                </InputGroup.Text>\r\n                <FormControl\r\n                  placeholder=\"Search groups by name or description...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  aria-label=\"Search groups\"\r\n                  className=\"border-start-0 ps-0\"\r\n                  style={{ boxShadow: \"none\" }}\r\n                />\r\n                {searchTerm && (\r\n                  <Button\r\n                    variant=\"outline-secondary\"\r\n                    onClick={() => setSearchTerm(\"\")}\r\n                    aria-label=\"Clear search\"\r\n                    className=\"border-start-0\"\r\n                    style={{ borderColor: \"#ced4da\" }}\r\n                  >\r\n                    <i className=\"fas fa-times\"></i>\r\n                  </Button>\r\n                )}\r\n              </InputGroup>\r\n            </div>\r\n            <div className=\"filter-buttons\">\r\n              <div className=\"d-flex flex-column flex-md-row align-items-start align-items-md-center gap-2\">\r\n                <h6 className=\"filter-label mb-2 mb-md-0 me-0 me-md-2 text-muted\">\r\n                  Filter by:\r\n                </h6>\r\n                <ButtonGroup className=\"category-filter\">\r\n                  <Button\r\n                    variant={\r\n                      selectedCategory === \"All\" ? \"primary\" : \"outline-primary\"\r\n                    }\r\n                    onClick={() => setSelectedCategory(\"All\")}\r\n                    className=\"category-btn\"\r\n                  >\r\n                    All\r\n                  </Button>\r\n                  {categories.map((category) => (\r\n                    <Button\r\n                      key={category}\r\n                      variant={\r\n                        selectedCategory === category\r\n                          ? \"primary\"\r\n                          : \"outline-primary\"\r\n                      }\r\n                      onClick={() => setSelectedCategory(category)}\r\n                      className=\"category-btn\"\r\n                    >\r\n                      {category}\r\n                    </Button>\r\n                  ))}\r\n                </ButtonGroup>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {isLoading ? (\r\n        <div className=\"loader-container\">\r\n          <div className=\"loader-content\">\r\n            <Spinner animation=\"border\" variant=\"primary\" size=\"lg\" />\r\n            <p className=\"loading-text\">Loading study groups...</p>\r\n          </div>\r\n        </div>\r\n      ) : filteredGroups.length === 0 ? (\r\n        <div className=\"text-center py-5\">\r\n          <div className=\"mb-4\">\r\n            <i className=\"fas fa-users display-1 text-muted\"></i>\r\n          </div>\r\n          <h4 className=\"mb-3\">No Study Groups Found</h4>\r\n          <p className=\"text-muted mb-4\">\r\n            {searchTerm\r\n              ? \"No results match your search criteria. Try different keywords or clear the search.\"\r\n              : selectedCategory !== \"All\"\r\n              ? `No ${selectedCategory} groups available yet.`\r\n              : user\r\n              ? \"Create a new study group to get started!\"\r\n              : \"Join NexusEd to create and participate in study groups.\"}\r\n          </p>\r\n          {user && (\r\n            <Button\r\n              variant=\"primary\"\r\n              className=\"btn-hover-shadow\"\r\n              onClick={() => setShowCreateModal(true)}\r\n            >\r\n              <i className=\"fas fa-plus me-2\"></i>\r\n              Create New Group\r\n            </Button>\r\n          )}\r\n          {!user && (\r\n            <Button variant=\"primary\" className=\"btn-hover-shadow\" href=\"/login\">\r\n              <i className=\"fas fa-sign-in-alt me-2\"></i>\r\n              Login to Join\r\n            </Button>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <Row xs={1} md={2} lg={3} className=\"g-4\">\r\n          {filteredGroups.map((group, index) => (\r\n            <Col key={group._id}>\r\n              <GroupCard\r\n                group={group}\r\n                user={user}\r\n                visibleMembers={visibleMembers}\r\n                toggleMembersVisibility={toggleMembersVisibility}\r\n                handleEditGroup={handleEditGroup}\r\n                handleDeleteConfirmation={handleDeleteConfirmation}\r\n                handleJoinGroup={handleJoinGroup}\r\n                handleLeaveGroup={handleLeaveGroup}\r\n                deleteConfirmation={deleteConfirmation}\r\n                handleDeleteGroup={handleDeleteGroup}\r\n                cancelDeleteGroup={cancelDeleteGroup}\r\n                animationDelay={`${index * 0.1}s`}\r\n              />\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      )}\r\n\r\n      {/* Create Group Modal */}\r\n      <Modal\r\n        show={showCreateModal}\r\n        onHide={() => setShowCreateModal(false)}\r\n        size=\"lg\"\r\n        centered\r\n        className=\"group-modal\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            <i className=\"fas fa-plus-circle text-primary me-2\"></i>\r\n            Create Study Group\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <GroupForm\r\n            group={newGroup}\r\n            setGroup={setNewGroup}\r\n            categories={categories}\r\n            groupIcons={groupIcons}\r\n            handleSubmit={handleCreateGroup}\r\n            handleCancel={() => setShowCreateModal(false)}\r\n            isLoading={isLoading}\r\n            buttonText=\"Create Group\"\r\n          />\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      {/* Edit Group Modal */}\r\n      <Modal\r\n        show={!!editGroup}\r\n        onHide={cancelEditGroup}\r\n        size=\"lg\"\r\n        centered\r\n        className=\"group-modal\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            <i className=\"fas fa-edit text-primary me-2\"></i>\r\n            Edit Study Group\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {editGroup && (\r\n            <GroupForm\r\n              group={editGroup}\r\n              setGroup={setEditGroup}\r\n              categories={categories}\r\n              groupIcons={groupIcons}\r\n              handleSubmit={handleUpdateGroup}\r\n              handleCancel={cancelEditGroup}\r\n              isLoading={isLoading}\r\n              buttonText=\"Update Group\"\r\n              ref={editFormRef}\r\n            />\r\n          )}\r\n        </Modal.Body>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StudyGroups;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}