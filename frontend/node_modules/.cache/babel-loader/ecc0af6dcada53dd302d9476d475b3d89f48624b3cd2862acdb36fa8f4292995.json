{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\NexusEd\\\\frontend\\\\src\\\\components\\\\GroupDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { Card, Row, Col, Badge, Button, Spinner, Alert, Tab, Nav } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport PostForm from \"./PostForm\";\nimport PostCard from \"./PostCard\";\nimport GroupChat from \"./GroupChat\";\nimport ConfirmationMessage from \"./ConfirmationMessage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GroupDetail() {\n  _s();\n  var _group$members, _group$members2, _group$members3, _group$members4;\n  const {\n    groupId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    isLoading: authLoading\n  } = useContext(AuthContext);\n  const [group, setGroup] = useState(null);\n  const [posts, setPosts] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [activeTab, setActiveTab] = useState(\"discussion\");\n  const [isLiking, setIsLiking] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [isCommenting, setIsCommenting] = useState(false);\n  const [showMembers, setShowMembers] = useState(false);\n  const [timeoutId, setTimeoutId] = useState(null);\n  useEffect(() => {\n    const fetchGroupDetails = async () => {\n      try {\n        setIsLoading(true);\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}`);\n        setGroup(response.data);\n\n        // Fetch group posts\n        const postsResponse = await axios.get(`${process.env.REACT_APP_API_URL}/api/posts/group/${groupId}`);\n        setPosts(postsResponse.data);\n      } catch (err) {\n        var _err$response, _err$response2;\n        console.error(\"Error fetching group details:\", err);\n        // Only show error if it's not a 404 (group not found) or 403 (unauthorized)\n        if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) !== 404 && ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) !== 403) {\n          setError(\"Failed to load group details. Please try again later.\");\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchGroupDetails();\n  }, [groupId]);\n  const setTemporaryMessage = message => {\n    setError(message);\n    if (timeoutId) clearTimeout(timeoutId);\n    const newTimeoutId = setTimeout(() => {\n      setError(\"\");\n      setTimeoutId(null);\n    }, 3000);\n    setTimeoutId(newTimeoutId);\n  };\n  const setTemporarySuccess = message => {\n    setSuccess(message);\n    if (timeoutId) clearTimeout(timeoutId);\n    const newTimeoutId = setTimeout(() => {\n      setSuccess(\"\");\n      setTimeoutId(null);\n    }, 3000);\n    setTimeoutId(newTimeoutId);\n  };\n\n  // Cleanup timeout on unmount\n  useEffect(() => {\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, [timeoutId]);\n  const handleCreatePost = async content => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/posts`, {\n        content,\n        studyGroup: groupId\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts([response.data, ...posts]);\n      setTemporarySuccess(\"Post created successfully!\");\n      return true;\n    } catch (err) {\n      console.error(\"Error creating post:\", err);\n      setTemporaryMessage(\"Failed to create post. Please try again.\");\n      return false;\n    }\n  };\n  const handleLikePost = async postId => {\n    if (isLiking) return;\n    try {\n      setIsLiking(true);\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/posts/${postId}/like`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.map(post => post._id === postId ? response.data : post));\n    } catch (err) {\n      console.error(\"Error liking post:\", err);\n      setTemporaryMessage(\"Failed to like post. Please try again.\");\n    } finally {\n      setIsLiking(false);\n    }\n  };\n  const handleDeletePost = async postId => {\n    if (isDeleting) return;\n    try {\n      setIsDeleting(true);\n      await axios.delete(`${process.env.REACT_APP_API_URL}/api/posts/${postId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.filter(post => post._id !== postId));\n      setTemporarySuccess(\"Post deleted successfully!\");\n    } catch (err) {\n      console.error(\"Error deleting post:\", err);\n      setTemporaryMessage(\"Failed to delete post. Please try again.\");\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n  const handleAddComment = async (postId, content) => {\n    if (isCommenting) return;\n    try {\n      setIsCommenting(true);\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments`, {\n        content\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.map(post => post._id === postId ? response.data : post));\n      setTemporarySuccess(\"Comment added successfully!\");\n    } catch (err) {\n      console.error(\"Error adding comment:\", err);\n      setTemporaryMessage(\"Failed to add comment. Please try again.\");\n    } finally {\n      setIsCommenting(false);\n    }\n  };\n  const handleDeleteComment = async (postId, commentId) => {\n    try {\n      const response = await axios.delete(`${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments/${commentId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setPosts(posts.map(post => post._id === postId ? response.data : post));\n      setTemporarySuccess(\"Comment deleted successfully!\");\n    } catch (err) {\n      console.error(\"Error deleting comment:\", err);\n      setTemporaryMessage(\"Failed to delete comment. Please try again.\");\n    }\n  };\n  const handleJoinGroup = async () => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/join`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setGroup(response.data);\n      setTemporarySuccess(\"Successfully joined the group!\");\n    } catch (err) {\n      console.error(\"Error joining group:\", err);\n      setTemporaryMessage(\"Failed to join group. Please try again.\");\n    }\n  };\n  const handleLeaveGroup = async () => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/leave`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setGroup(response.data);\n      setTemporarySuccess(\"Successfully left the group!\");\n    } catch (err) {\n      console.error(\"Error leaving group:\", err);\n      setTemporaryMessage(\"Failed to leave group. Please try again.\");\n    }\n  };\n  if (authLoading || isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3 text-secondary\",\n        children: \"Loading group details...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this);\n  }\n  if (!group) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n          children: \"Group Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"The study group you're looking for doesn't exist or you don't have permission to view it.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => navigate(\"/study-groups\"),\n          children: \"Back to Study Groups\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"warning\",\n        children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n          children: \"Authentication Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You must be logged in to view group details.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => navigate(\"/login\"),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this);\n  }\n  const isMember = user && ((_group$members = group.members) === null || _group$members === void 0 ? void 0 : _group$members.some(member => member._id === user.id));\n  const isCreator = user && group.creator._id === user.id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"animate-fade-in-up\",\n    children: [error && /*#__PURE__*/_jsxDEV(ConfirmationMessage, {\n      message: error,\n      type: \"error\",\n      onClose: () => setError(\"\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(ConfirmationMessage, {\n      message: success,\n      type: \"success\",\n      onClose: () => setSuccess(\"\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-4 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 8,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"me-3\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas ${group.groupImage} fs-2 text-primary bg-light rounded-circle p-3`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"fs-3 fw-bold mb-1\",\n                  children: group.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"primary\",\n                    children: group.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-users me-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 23\n                    }, this), ((_group$members2 = group.members) === null || _group$members2 === void 0 ? void 0 : _group$members2.length) || 0, \" members\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted\",\n                    children: [\"Created by \", group.creator.username]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-secondary mb-0\",\n              children: group.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            className: \"text-end\",\n            children: [user && !isMember && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              size: \"lg\",\n              onClick: handleJoinGroup,\n              className: \"btn-hover-shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plus me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this), \"Join Group\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this), user && isMember && !isCreator && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-danger\",\n              size: \"lg\",\n              onClick: handleLeaveGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-sign-out-alt me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), \"Leave Group\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"fw-semibold text-primary mb-0\",\n                children: [\"Members (\", ((_group$members3 = group.members) === null || _group$members3 === void 0 ? void 0 : _group$members3.length) || 0, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"link\",\n                size: \"sm\",\n                onClick: () => setShowMembers(!showMembers),\n                className: \"text-decoration-none\",\n                children: [showMembers ? \"Hide\" : \"Show\", \" Members\", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: `fas fa-chevron-${showMembers ? \"up\" : \"down\"} ms-1`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), showMembers && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                xs: 2,\n                md: 3,\n                lg: 4,\n                className: \"g-2\",\n                children: (_group$members4 = group.members) === null || _group$members4 === void 0 ? void 0 : _group$members4.map(member => /*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center p-2 bg-light rounded\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-user-circle me-2 text-secondary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 388,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"small\",\n                      children: member.username\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 27\n                    }, this), member._id === group.creator._id && /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"success\",\n                      className: \"ms-auto small\",\n                      children: \"Creator\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 25\n                  }, this)\n                }, member._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tab.Container, {\n      activeKey: activeTab,\n      onSelect: setActiveTab,\n      children: [/*#__PURE__*/_jsxDEV(Nav, {\n        variant: \"tabs\",\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            eventKey: \"discussion\",\n            className: \"px-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-comments me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), \"Discussion (\", posts.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n          children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n            eventKey: \"chat\",\n            className: \"px-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-comment-dots me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this), \"Chat & Events\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n        children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n          eventKey: \"discussion\",\n          children: [user && isMember && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(PostForm, {\n              handleCreatePost: handleCreatePost\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), posts.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"info\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-info-circle me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this), \"No posts yet.\", \" \", isMember && \"Be the first to start a discussion!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this) : posts.map((post, index) => /*#__PURE__*/_jsxDEV(PostCard, {\n            post: post,\n            currentUser: user,\n            handleLikePost: handleLikePost,\n            handleDeletePost: handleDeletePost,\n            handleAddComment: handleAddComment,\n            handleDeleteComment: handleDeleteComment,\n            isLiking: isLiking,\n            isDeleting: isDeleting,\n            isCommenting: isCommenting,\n            animationDelay: `${index * 0.1}s`\n          }, post._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n          eventKey: \"chat\",\n          children: user && isMember ? /*#__PURE__*/_jsxDEV(GroupChat, {\n            group: group,\n            user: user,\n            setTemporaryMessage: setTemporaryMessage,\n            setTemporarySuccess: setTemporarySuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"warning\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-lock me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), \"You must be a member to access the group chat and events.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 293,\n    columnNumber: 5\n  }, this);\n}\n_s(GroupDetail, \"i7tM82LYBg2F9yNteynlo1vkugY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = GroupDetail;\nexport default GroupDetail;\nvar _c;\n$RefreshReg$(_c, \"GroupDetail\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","useNavigate","AuthContext","Card","Row","Col","Badge","Button","Spinner","Alert","Tab","Nav","axios","PostForm","PostCard","GroupChat","ConfirmationMessage","jsxDEV","_jsxDEV","GroupDetail","_s","_group$members","_group$members2","_group$members3","_group$members4","groupId","navigate","user","isLoading","authLoading","group","setGroup","posts","setPosts","setIsLoading","error","setError","success","setSuccess","activeTab","setActiveTab","isLiking","setIsLiking","isDeleting","setIsDeleting","isCommenting","setIsCommenting","showMembers","setShowMembers","timeoutId","setTimeoutId","fetchGroupDetails","response","get","process","env","REACT_APP_API_URL","data","postsResponse","err","_err$response","_err$response2","console","status","setTemporaryMessage","message","clearTimeout","newTimeoutId","setTimeout","setTemporarySuccess","handleCreatePost","content","post","studyGroup","headers","Authorization","localStorage","getItem","handleLikePost","postId","map","_id","handleDeletePost","delete","filter","handleAddComment","handleDeleteComment","commentId","handleJoinGroup","handleLeaveGroup","className","children","animation","variant","fileName","_jsxFileName","lineNumber","columnNumber","Heading","onClick","isMember","members","some","member","id","isCreator","creator","type","onClose","Body","md","groupImage","name","bg","category","length","username","description","size","xs","lg","Container","activeKey","onSelect","Item","Link","eventKey","Content","Pane","index","currentUser","animationDelay","_c","$RefreshReg$"],"sources":["D:/Projects/NexusEd/frontend/src/components/GroupDetail.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Badge,\r\n  Button,\r\n  Spinner,\r\n  Alert,\r\n  Tab,\r\n  Nav,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport PostForm from \"./PostForm\";\r\nimport PostCard from \"./PostCard\";\r\nimport GroupChat from \"./GroupChat\";\r\nimport ConfirmationMessage from \"./ConfirmationMessage\";\r\n\r\nfunction GroupDetail() {\r\n  const { groupId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user, isLoading: authLoading } = useContext(AuthContext);\r\n  const [group, setGroup] = useState(null);\r\n  const [posts, setPosts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"discussion\");\r\n  const [isLiking, setIsLiking] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [isCommenting, setIsCommenting] = useState(false);\r\n  const [showMembers, setShowMembers] = useState(false);\r\n  const [timeoutId, setTimeoutId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchGroupDetails = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await axios.get(\r\n          `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}`\r\n        );\r\n        setGroup(response.data);\r\n\r\n        // Fetch group posts\r\n        const postsResponse = await axios.get(\r\n          `${process.env.REACT_APP_API_URL}/api/posts/group/${groupId}`\r\n        );\r\n        setPosts(postsResponse.data);\r\n      } catch (err) {\r\n        console.error(\"Error fetching group details:\", err);\r\n        // Only show error if it's not a 404 (group not found) or 403 (unauthorized)\r\n        if (err.response?.status !== 404 && err.response?.status !== 403) {\r\n          setError(\"Failed to load group details. Please try again later.\");\r\n        }\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchGroupDetails();\r\n  }, [groupId]);\r\n\r\n  const setTemporaryMessage = (message) => {\r\n    setError(message);\r\n    if (timeoutId) clearTimeout(timeoutId);\r\n    const newTimeoutId = setTimeout(() => {\r\n      setError(\"\");\r\n      setTimeoutId(null);\r\n    }, 3000);\r\n    setTimeoutId(newTimeoutId);\r\n  };\r\n\r\n  const setTemporarySuccess = (message) => {\r\n    setSuccess(message);\r\n    if (timeoutId) clearTimeout(timeoutId);\r\n    const newTimeoutId = setTimeout(() => {\r\n      setSuccess(\"\");\r\n      setTimeoutId(null);\r\n    }, 3000);\r\n    setTimeoutId(newTimeoutId);\r\n  };\r\n\r\n  // Cleanup timeout on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timeoutId) {\r\n        clearTimeout(timeoutId);\r\n      }\r\n    };\r\n  }, [timeoutId]);\r\n\r\n  const handleCreatePost = async (content) => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts`,\r\n        { content, studyGroup: groupId },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setPosts([response.data, ...posts]);\r\n      setTemporarySuccess(\"Post created successfully!\");\r\n      return true;\r\n    } catch (err) {\r\n      console.error(\"Error creating post:\", err);\r\n      setTemporaryMessage(\"Failed to create post. Please try again.\");\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleLikePost = async (postId) => {\r\n    if (isLiking) return;\r\n\r\n    try {\r\n      setIsLiking(true);\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/like`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n    } catch (err) {\r\n      console.error(\"Error liking post:\", err);\r\n      setTemporaryMessage(\"Failed to like post. Please try again.\");\r\n    } finally {\r\n      setIsLiking(false);\r\n    }\r\n  };\r\n\r\n  const handleDeletePost = async (postId) => {\r\n    if (isDeleting) return;\r\n\r\n    try {\r\n      setIsDeleting(true);\r\n      await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(posts.filter((post) => post._id !== postId));\r\n      setTemporarySuccess(\"Post deleted successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error deleting post:\", err);\r\n      setTemporaryMessage(\"Failed to delete post. Please try again.\");\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleAddComment = async (postId, content) => {\r\n    if (isCommenting) return;\r\n\r\n    try {\r\n      setIsCommenting(true);\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments`,\r\n        { content },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n      setTemporarySuccess(\"Comment added successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error adding comment:\", err);\r\n      setTemporaryMessage(\"Failed to add comment. Please try again.\");\r\n    } finally {\r\n      setIsCommenting(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteComment = async (postId, commentId) => {\r\n    try {\r\n      const response = await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/posts/${postId}/comments/${commentId}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setPosts(\r\n        posts.map((post) => (post._id === postId ? response.data : post))\r\n      );\r\n      setTemporarySuccess(\"Comment deleted successfully!\");\r\n    } catch (err) {\r\n      console.error(\"Error deleting comment:\", err);\r\n      setTemporaryMessage(\"Failed to delete comment. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleJoinGroup = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/join`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroup(response.data);\r\n      setTemporarySuccess(\"Successfully joined the group!\");\r\n    } catch (err) {\r\n      console.error(\"Error joining group:\", err);\r\n      setTemporaryMessage(\"Failed to join group. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleLeaveGroup = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/study-groups/${groupId}/leave`,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      setGroup(response.data);\r\n      setTemporarySuccess(\"Successfully left the group!\");\r\n    } catch (err) {\r\n      console.error(\"Error leaving group:\", err);\r\n      setTemporaryMessage(\"Failed to leave group. Please try again.\");\r\n    }\r\n  };\r\n\r\n  if (authLoading || isLoading) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Spinner animation=\"border\" variant=\"primary\" />\r\n        <p className=\"mt-3 text-secondary\">Loading group details...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!group) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Alert variant=\"danger\">\r\n          <Alert.Heading>Group Not Found</Alert.Heading>\r\n          <p>The study group you're looking for doesn't exist or you don't have permission to view it.</p>\r\n          <Button variant=\"primary\" onClick={() => navigate(\"/study-groups\")}>\r\n            Back to Study Groups\r\n          </Button>\r\n        </Alert>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"text-center py-5\">\r\n        <Alert variant=\"warning\">\r\n          <Alert.Heading>Authentication Required</Alert.Heading>\r\n          <p>You must be logged in to view group details.</p>\r\n          <Button variant=\"primary\" onClick={() => navigate(\"/login\")}>\r\n            Login\r\n          </Button>\r\n        </Alert>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isMember =\r\n    user && group.members?.some((member) => member._id === user.id);\r\n  const isCreator = user && group.creator._id === user.id;\r\n\r\n  return (\r\n    <div className=\"animate-fade-in-up\">\r\n      {error && (\r\n        <ConfirmationMessage\r\n          message={error}\r\n          type=\"error\"\r\n          onClose={() => setError(\"\")}\r\n        />\r\n      )}\r\n      {success && (\r\n        <ConfirmationMessage\r\n          message={success}\r\n          type=\"success\"\r\n          onClose={() => setSuccess(\"\")}\r\n        />\r\n      )}\r\n\r\n      {/* Group Header */}\r\n      <Card className=\"mb-4 shadow-sm\">\r\n        <Card.Body className=\"p-4\">\r\n          <Row className=\"align-items-center\">\r\n            <Col md={8}>\r\n              <div className=\"d-flex align-items-center mb-3\">\r\n                <div className=\"me-3\">\r\n                  <i\r\n                    className={`fas ${group.groupImage} fs-2 text-primary bg-light rounded-circle p-3`}\r\n                  ></i>\r\n                </div>\r\n                <div>\r\n                  <h1 className=\"fs-3 fw-bold mb-1\">{group.name}</h1>\r\n                  <div className=\"d-flex align-items-center gap-3\">\r\n                    <Badge bg=\"primary\">{group.category}</Badge>\r\n                    <span className=\"text-muted\">\r\n                      <i className=\"fas fa-users me-1\"></i>\r\n                      {group.members?.length || 0} members\r\n                    </span>\r\n                    <span className=\"text-muted\">\r\n                      Created by {group.creator.username}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-secondary mb-0\">{group.description}</p>\r\n            </Col>\r\n            <Col md={4} className=\"text-end\">\r\n              {user && !isMember && (\r\n                <Button\r\n                  variant=\"primary\"\r\n                  size=\"lg\"\r\n                  onClick={handleJoinGroup}\r\n                  className=\"btn-hover-shadow\"\r\n                >\r\n                  <i className=\"fas fa-plus me-2\"></i>\r\n                  Join Group\r\n                </Button>\r\n              )}\r\n              {user && isMember && !isCreator && (\r\n                <Button\r\n                  variant=\"outline-danger\"\r\n                  size=\"lg\"\r\n                  onClick={handleLeaveGroup}\r\n                >\r\n                  <i className=\"fas fa-sign-out-alt me-2\"></i>\r\n                  Leave Group\r\n                </Button>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n\r\n          {/* Members Section */}\r\n          <Row className=\"mt-4\">\r\n            <Col>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <h5 className=\"fw-semibold text-primary mb-0\">\r\n                  Members ({group.members?.length || 0})\r\n                </h5>\r\n                <Button\r\n                  variant=\"link\"\r\n                  size=\"sm\"\r\n                  onClick={() => setShowMembers(!showMembers)}\r\n                  className=\"text-decoration-none\"\r\n                >\r\n                  {showMembers ? \"Hide\" : \"Show\"} Members\r\n                  <i\r\n                    className={`fas fa-chevron-${\r\n                      showMembers ? \"up\" : \"down\"\r\n                    } ms-1`}\r\n                  ></i>\r\n                </Button>\r\n              </div>\r\n              {showMembers && (\r\n                <div className=\"mt-3\">\r\n                  <Row xs={2} md={3} lg={4} className=\"g-2\">\r\n                    {group.members?.map((member) => (\r\n                      <Col key={member._id}>\r\n                        <div className=\"d-flex align-items-center p-2 bg-light rounded\">\r\n                          <i className=\"fas fa-user-circle me-2 text-secondary\"></i>\r\n                          <span className=\"small\">{member.username}</span>\r\n                          {member._id === group.creator._id && (\r\n                            <Badge bg=\"success\" className=\"ms-auto small\">\r\n                              Creator\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </Col>\r\n                    ))}\r\n                  </Row>\r\n                </div>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Tabs */}\r\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\r\n        <Nav variant=\"tabs\" className=\"mb-4\">\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"discussion\" className=\"px-4\">\r\n              <i className=\"fas fa-comments me-2\"></i>\r\n              Discussion ({posts.length})\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n          <Nav.Item>\r\n            <Nav.Link eventKey=\"chat\" className=\"px-4\">\r\n              <i className=\"fas fa-comment-dots me-2\"></i>\r\n              Chat & Events\r\n            </Nav.Link>\r\n          </Nav.Item>\r\n        </Nav>\r\n\r\n        <Tab.Content>\r\n          <Tab.Pane eventKey=\"discussion\">\r\n            {user && isMember && (\r\n              <div className=\"mb-4\">\r\n                <PostForm handleCreatePost={handleCreatePost} />\r\n              </div>\r\n            )}\r\n\r\n            {posts.length === 0 ? (\r\n              <Alert variant=\"info\">\r\n                <i className=\"fas fa-info-circle me-2\"></i>\r\n                No posts yet.{\" \"}\r\n                {isMember && \"Be the first to start a discussion!\"}\r\n              </Alert>\r\n            ) : (\r\n              posts.map((post, index) => (\r\n                <PostCard\r\n                  key={post._id}\r\n                  post={post}\r\n                  currentUser={user}\r\n                  handleLikePost={handleLikePost}\r\n                  handleDeletePost={handleDeletePost}\r\n                  handleAddComment={handleAddComment}\r\n                  handleDeleteComment={handleDeleteComment}\r\n                  isLiking={isLiking}\r\n                  isDeleting={isDeleting}\r\n                  isCommenting={isCommenting}\r\n                  animationDelay={`${index * 0.1}s`}\r\n                />\r\n              ))\r\n            )}\r\n          </Tab.Pane>\r\n\r\n          <Tab.Pane eventKey=\"chat\">\r\n            {user && isMember ? (\r\n              <GroupChat\r\n                group={group}\r\n                user={user}\r\n                setTemporaryMessage={setTemporaryMessage}\r\n                setTemporarySuccess={setTemporarySuccess}\r\n              />\r\n            ) : (\r\n              <Alert variant=\"warning\">\r\n                <i className=\"fas fa-lock me-2\"></i>\r\n                You must be a member to access the group chat and events.\r\n              </Alert>\r\n            )}\r\n          </Tab.Pane>\r\n        </Tab.Content>\r\n      </Tab.Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GroupDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}